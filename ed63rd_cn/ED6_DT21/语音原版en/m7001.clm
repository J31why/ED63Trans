calmare tc scena
scena:
	name "Gaiden3" "M7001.x"
	town town[1]
	bgm bgm[220]
	item fn[0,65535]

entry:
	pos (0, 0, 0)
	chr 4
	angle 5deg
	cam_from (0, 9500, -10000)
	cam_at (0, 0, 2500)
	cam_zoom 2800
	cam_pers 262
	cam_deg 45deg
	cam_limit 0deg 360deg
	north 0deg
	flags 0x0001
	town town[1]
	init fn[0,0]
	reinit fn[0,1]

chip[0] "npl2/ch04080._ch" "npl2/ch04080p._cp"
chip[1] "npl2/ch04150._ch" "npl2/ch04150p._cp"
chip[2] "apl2/ch20622._ch" "apl2/ch20622p._cp"
chip[3] "mons2/ch14400._ch" "mons2/ch14400p._cp"
chip[4] "mons2/ch14401._ch" "mons2/ch14401p._cp"
chip[5] "mons2/ch14410._ch" "mons2/ch14410p._cp"
chip[6] "mons2/ch14411._ch" "mons2/ch14411p._cp"
chip[7] "mons2/ch14404._ch" "mons2/ch14404p._cp"
chip[8] "mons2/ch14414._ch" "mons2/ch14414p._cp"
chip[9] "mons2/ch14420._ch" "mons2/ch14420p._cp"
chip[10] "mons2/ch14421._ch" "mons2/ch14421p._cp"
chip[11] "mons2/ch14010._ch" "mons2/ch14010p._cp"
chip[12] "mons2/ch14011._ch" "mons2/ch14011p._cp"
chip[13] "mons2/ch14020._ch" "mons2/ch14020p._cp"
chip[14] "apl2/ch20621._ch" "apl2/ch20621p._cp"
chip[15] "mons2/ch14403._ch" "mons2/ch14403p._cp"
chip[16] "mons2/ch14413._ch" "mons2/ch14413p._cp"

npc char[0]:
	name "Bone Warrior"
	pos (0, 0, 0)
	angle 0deg
	x 0
	cp chip[3]
	frame 0
	ch chip[3]
	flags 0x0181
	init fn[65535,65535]
	talk fn[65535,65535]

npc char[1]:
	name "Bone Warrior"
	pos (0, 0, 0)
	angle 0deg
	x 0
	cp chip[3]
	frame 0
	ch chip[3]
	flags 0x0181
	init fn[65535,65535]
	talk fn[65535,65535]

npc char[2]:
	name "Bone Shooter"
	pos (0, 0, 0)
	angle 0deg
	x 0
	cp chip[5]
	frame 0
	ch chip[5]
	flags 0x0181
	init fn[65535,65535]
	talk fn[65535,65535]

npc char[3]:
	name "Sealing Stone 1"
	pos (0, 0, 0)
	angle 0deg
	x 0
	cp chip[0]
	frame 0
	ch chip[0]
	flags 0x01C4
	init fn[65535,65535]
	talk fn[65535,65535]

monster char[4]:
	name ""
	pos (31910, -12000, -23720)
	angle 0deg
	chip chip[3]
	flags 0x0141
	unk2 -1
	battle battle[107]
	flag flag[0]
	unk3 0

monster char[5]:
	name ""
	pos (-35140, -20000, -24440)
	angle 180deg
	chip chip[5]
	flags 0x0141
	unk2 -1
	battle battle[108]
	flag flag[0]
	unk3 0

monster char[6]:
	name ""
	pos (17780, -8000, -9960)
	angle 180deg
	chip chip[13]
	flags 0x0141
	unk2 -1
	battle battle[102]
	flag flag[0]
	unk3 0

monster char[7]:
	name ""
	pos (17820, -24000, -37930)
	angle 180deg
	chip chip[3]
	flags 0x0141
	unk2 -1
	battle battle[107]
	flag flag[0]
	unk3 0

monster char[8]:
	name ""
	pos (-4019, -24000, -9290)
	angle 180deg
	chip chip[5]
	flags 0x0141
	unk2 -1
	battle battle[108]
	flag flag[0]
	unk3 0

monster char[9]:
	name ""
	pos (2400, -52000, -72420)
	angle 180deg
	chip chip[3]
	flags 0x0141
	unk2 -1
	battle battle[107]
	flag flag[0]
	unk3 0

monster char[10]:
	name ""
	pos (-9770, -56000, -120260)
	angle 0deg
	chip chip[13]
	flags 0x0141
	unk2 -1
	battle battle[102]
	flag flag[0]
	unk3 0

trigger[0]:
	pos1 (45680, -61000, -76530)
	pos2 (49490, -55000, -67030)
	flags 0x0000
	func fn[0,9]
	unk1 0

trigger[1]:
	pos1 (4410, -53000, -101960)
	pos2 (-380, -48000, -94420)
	flags 0x0000
	func fn[0,11]
	unk1 0

trigger[2]:
	pos1 (-19850, -53000, -84720)
	pos2 (-28180, -47000, -77190)
	flags 0x0000
	func fn[0,12]
	unk1 0

look_point[0]:
	pos (60400, -60000, -72100)
	radius 1000mm
	bubble_pos (60400, -59000, -72100)
	flags 0x007C
	func fn[0,7]
	unk1 0

look_point[1]:
	pos (-46120, -52000, -82000)
	radius 1500mm
	bubble_pos (-46120, -49000, -82000)
	flags 0x007C
	func fn[0,16]
	unk1 0

look_point[2]:
	pos (-37300, -20000, -24130)
	radius 1000mm
	bubble_pos (-38000, -19000, -24000)
	flags 0x007C
	func fn[0,30]
	unk1 0

look_point[3]:
	pos (8700, -8000, -10110)
	radius 1000mm
	bubble_pos (8000, -7000, -10000)
	flags 0x007C
	func fn[0,31]
	unk1 0

look_point[4]:
	pos (-3720, -24000, -7100)
	radius 1000mm
	bubble_pos (-4000, -24000, -6000)
	flags 0x007C
	func fn[0,32]
	unk1 0

fn[0]:
	if flag[9738] && !flag[9739]:
		SystemFlagsSet 0x10000000
		system[1] = 0
	if system[66] == 255:
		switch system[0]:
			case 100:
				Event fn[0,20]
				break
			case 101:
				Event fn[0,21]
				break
			case 102:
				Event fn[0,22]
				break
			case 103:
				Event fn[0,23]
				break
	if flag[9477]:
		FlagUnset flag[9477]
		SystemFlagsSet 0x10000000
		if flag[9743]:
			Event fn[0,19]
		else:
			system[1] = 0
			Event fn[0,15]
	elif flag[9476]:
		FlagUnset flag[9476]
		SystemFlagsSet 0x10000000
		Event fn[0,10]
	Return

fn[1]:
	MapSet 4000 (-109500, null, -189000) "mm7001._ch"
	Minigame 30 2 1 -99999000 0 0 0 0 0
	if system[66] == 255:
		_1B look_point[0] fn[0,24]
		_1B look_point[1] fn[0,25]
		_1B look_point[2] fn[0,26]
		_1B look_point[3] fn[0,27]
	if !flag[9740]:
		CharFlagsUnset char[3] 0x0080
		CharColor char[3] 0x00FFFFFF 0ms
		CharSetPos char[3] (60400, -59000, -72100) 0deg
		EffLoad eff[7] "map\\mp253_00.eff"
		EffLoad eff[6] "map\\mp253_01.eff"
		EffPlay eff[7] eff_instance[7] char[3] 0 (0, 0, 0) 0 0 0 1000 1000 1000 null (0, 0, 0) 0ms
		EffPlay eff[6] eff_instance[6] char[3] 0 (0, 0, 0) 0 0 0 1000 1000 1000 null (0, 0, 0) 0ms
	else:
		LookPointFlagsSet look_point[0] 0x0001
	if flag[9741]:
		ObjFlagsSet object[4] 0x0004
	EffStop eff_instance[133] 0
	if QuestFlagsGet quest[1] 0x02:
		EffStop eff_instance[134] 0
	else:
		EffStop eff_instance[135] 0
	if !flag[9857]:
		ObjFrame object[0] 0
	else:
		ObjFrame object[0] 60
	if !flag[9858]:
		ObjFrame object[1] 0
	else:
		ObjFrame object[1] 60
	if !flag[9859]:
		ObjFrame object[2] 0
	else:
		ObjFrame object[2] 60
	Return

fn[2]:
	EventBegin 0
	FadeOut 0ms 0x00000000 255
	CharSetPos name[8] (82750, -8000, -23510) 270deg
	CharSetPos name[14] (83090, -8000, -24830) 270deg
	CharColor name[8] 0x00FFFFFF 0ms
	CharColor name[14] 0x00FFFFFF 0ms
	CamLookPos (82380, -8000, -23400) 0ms
	CamSetDistance 0 6810 -10000 0ms
	CamZoom 4400 0ms
	CamRotate 315000mdeg 0ms
	CamPers 209 0ms
	CharFlagsSet char[4] 0x0080
	CharFlagsSet char[5] 0x0080
	CharFlagsSet char[6] 0x0080
	CharFlagsSet char[7] 0x0080
	CharFlagsSet char[8] 0x0080
	CharFlagsSet char[9] 0x0080
	CharFlagsSet char[10] 0x0080
	Sleep 1000ms
	Fork name[8] fork[2]:
		CamZoom 3800 3000ms
	FadeIn 2000ms 0x00000000
	FadeWait
	EffLoad eff[0] "map\\mp204_02.eff"
	EffPlay eff[0] eff_instance[255] null 0 (82870, -8000, -24100) 0 0 0 1000 1000 1000 null (0, 0, 0) 0ms
	SoundPlay sound[153] 0 0 100
	SoundPlay sound[184] 0 0 100
	Sleep 200ms
	Fork name[8] fork[0]:
		CharColor self 0xFFFFFFFF 800ms
	Fork name[14] fork[0]:
		CharColor self 0xFFFFFFFF 800ms
	ForkWait name[8] fork[0]
	ForkWait name[14] fork[0]
	Sleep 1000ms
	Fork name[8] fork[0]:
		CharWalkToPos self (78640, -8000, -23650) 2000mm/s 0
	Sleep 300ms
	Fork name[14] fork[0]:
		CharWalkToPos self (79310, -8000, -25260) 2000mm/s 0
	CamLookPos (78070, -8000, -23700) 1500ms
	ForkWait name[8] fork[0]
	ForkWait name[14] fork[0]
	Sleep 500ms
	TextTalk name[8] {
		#88331v#1079F#5PCheck this out...{wait}
	}
	TextWait
	TextTalk name[14] {
		#91687v#1443FIt looks like that really was an 'entrance'
		of sorts.{wait}
	}
	TextWait
	Sleep 300ms
	BgmPlay bgm[220] 0
	Fork name[8] fork[0]:
		CamLookPos (57610, -7450, -24140) 5000ms
	Fork name[8] fork[1]:
		CamSetDistance 0 5640 -10000 5000ms
	Fork name[8] fork[2]:
		CamZoom 7160 7000ms
	Fork name[8] fork[3]:
		CamRotate 292000mdeg 5000ms
	Fork name[14] fork[1]:
		CamPers 537 5000ms
	ED6_12 127000 178000 5000
	Sc_C8 512 70 "C_PLAC32._CH" 0 3000
	ForkWait name[8] fork[2]
	Sleep 1000ms
	CrossFade 500ms
	CamLookPos (78070, -8000, -23700) 0ms
	CamSetDistance 0 6810 -10000 0ms
	CamZoom 3800 0ms
	CamRotate 315000mdeg 0ms
	CamPers 209 0ms
	Fog 0xFFFFFFFF 61000 163000 0
	FadeWait
	Sleep 500ms
	TextTalk name[8] {
		#88332v#1063F#5PWe still seem to be in the same bizarre
		enclosed space as before.{wait}
	} {
		#88333vWe've got quite a long road ahead of us,
		don't we?{wait}
	}
	TextWait
	TextTalk name[14] {
		#91688v#1802FWe sure do...{wait}
	}
	TextWait
	BgmStop 2000ms
	Emote name[14] 0mm 2000mm 2 7 80ms 1
	SoundPlay sound[39] 0 0 100
	Sleep 1000ms
	TextTalk name[14] {
		#91689v#1441FKevin!{wait}
	}
	TextWait
	Emote name[8] 0mm 2000mm 2 7 80ms 1
	SoundPlay sound[39] 0 0 100
	Sleep 1000ms
	EffLoad eff[1] "map\\mp309_00.eff"
	EffPlay eff[1] eff_instance[0] null 0 (71650, -7400, -23580) 0 0 0 1000 1000 1000 null (0, 0, 0) 0ms
	EffPlay eff[1] eff_instance[1] null 0 (71720, -7400, -25780) 0 0 0 1000 1000 1000 null (0, 0, 0) 0ms
	EffPlay eff[1] eff_instance[2] null 0 (70040, -7400, -24510) 0 0 0 1000 1000 1000 null (0, 0, 0) 0ms
	SoundPlay sound[311] 0 0 100
	Fork name[8] fork[0]:
		CamLookPos (74350, -8000, -23480) 1600ms
	Fork name[8] fork[1]:
		CamSetDistance 0 5530 -10000 1600ms
	Fork name[8] fork[2]:
		CamZoom 3800 1600ms
	Fork name[8] fork[3]:
		CamRotate 315000mdeg 1600ms
	Fork name[14] fork[1]:
		CamPers 229 1600ms
	ForkWait name[8] fork[0]
	Sleep 1000ms
	CharFlagsUnset char[0] 0x0080
	CharFlagsUnset char[1] 0x0080
	CharFlagsUnset char[2] 0x0080
	CharSetPos char[0] (71650, -8000, -23580) 90deg
	CharSetPos char[1] (71720, -8000, -25780) 90deg
	CharSetPos char[2] (70040, -8000, -24510) 90deg
	CharColor char[0] 0x00FFFFFF 0ms
	CharColor char[1] 0x00FFFFFF 0ms
	CharColor char[2] 0x00FFFFFF 0ms
	ForkLoop char[0] fork[3]:
		CharAnimation self 0 7 1500ms
	Sleep 30ms
	ForkLoop char[1] fork[3]:
		CharAnimation self 0 7 1500ms
	Sleep 30ms
	ForkLoop char[2] fork[3]:
		CharAnimation self 0 7 1500ms
	Fork char[0] fork[0]:
		CharColor self 0xFFFFFFFF 800ms
	SoundPlay sound[153] 0 0 100
	EffStop eff_instance[0] 2
	Sleep 100ms
	Fork char[1] fork[0]:
		CharColor self 0xFFFFFFFF 800ms
	SoundPlay sound[153] 0 0 100
	EffStop eff_instance[1] 2
	Sleep 100ms
	Fork char[2] fork[0]:
		CharColor self 0xFFFFFFFF 800ms
	SoundPlay sound[153] 0 0 100
	EffStop eff_instance[2] 2
	SoundStop sound[311]
	ForkWait char[0] fork[0]
	ForkWait char[1] fork[0]
	ForkWait char[2] fork[0]
	BgmPlay bgm[151] 0
	Sleep 1000ms
	TextTalk name[8] {
		#88334v#1069FM-Monsters?!{wait}
	}
	TextWait
	TextTalk name[14] {
		#91690v#1802F#6PHow did they just appear out
		of nowhere?{wait}
	}
	TextWait
	Sleep 300ms
	CrossFade 250ms
	system[28] = 1
	SystemFlagsUnset 0x00000010
	SoundPlay sound[213] 0 0 100
	CharSetChipBase name[8] chip[0]
	CharSetChipPattern name[8] 0
	Sleep 50ms
	SoundPlay sound[213] 0 0 100
	CharSetChipBase name[14] chip[1]
	CharSetChipPattern name[14] 0
	FadeWait
	Sleep 300ms
	Fork name[8] fork[1]:
		CamLookPos (76160, -8000, -23500) 300ms
	Fork name[8] fork[2]:
		CamSetDistance 0 6030 -10000 300ms
	Fork name[8] fork[3]:
		CamZoom 3250 300ms
	CharSetChipBase char[0] chip[4]
	Fork char[0] fork[0]:
		_Char91 self 5000 0 0 12000 0
	Sleep 30ms
	CharSetChipBase char[1] chip[4]
	Fork char[1] fork[0]:
		_Char91 self 5000 0 0 12000 0
	Sleep 30ms
	CharSetChipBase char[2] chip[6]
	Fork char[2] fork[0]:
		_Char91 self 5000 0 0 12000 0
	ForkWait name[8] fork[1]
	ForkWait name[8] fork[2]
	ForkWait name[8] fork[3]
	ForkQuit char[0] fork[0]
	ForkQuit char[1] fork[0]
	ForkQuit char[2] fork[0]
	ED6Battle battle[103] null 0 0 null
	Call fn[0,3]
	Return

fn[3]:
	EventBegin 0
	FadeOut 0ms 0x00000000 255
	system[28] = 0
	SystemFlagsSet 0x00000010
	CharFlagsUnset char[0] 0x0080
	CharFlagsUnset char[1] 0x0080
	CharFlagsUnset char[2] 0x0080
	CharSetPos char[0] (71650, -8000, -23580) 90deg
	CharSetPos char[1] (71720, -8000, -25780) 90deg
	CharSetPos char[2] (70040, -8000, -24510) 90deg
	CharSetChipBase char[0] chip[15]
	CharSetChipPattern char[0] 0
	CharSetChipBase char[1] chip[15]
	CharSetChipPattern char[1] 0
	CharSetChipBase char[2] chip[16]
	CharSetChipPattern char[2] 0
	ForkQuit char[0] fork[255]
	ForkQuit char[1] fork[255]
	ForkQuit char[2] fork[255]
	CharSetPos name[8] (78030, -8000, -23670) 270deg
	CharSetPos name[14] (78300, -8000, -25280) 270deg
	CharSetChipBase name[8] chip[0]
	CharSetChipPattern name[8] 0
	CharSetChipBase name[14] chip[1]
	CharSetChipPattern name[14] 0
	CamLookPos (73150, -8000, -22990) 0ms
	CamSetDistance 0 4860 -10000 0ms
	CamZoom 4200 0ms
	CamRotate 315000mdeg 0ms
	CamPers 219 0ms
	EffLoad eff[0] "battle\\mgblood2.eff"
	FadeIn 1000ms 0x00000000
	CamZoom 4500 1000ms
	FadeWait
	Sleep 500ms
	ForkFunc char[0] fork[0] fn[0,4]
	ForkFunc char[1] fork[0] fn[0,5]
	ForkFunc char[2] fork[0] fn[0,6]
	ForkWait char[0] fork[0]
	ForkWait char[1] fork[0]
	ForkWait char[2] fork[0]
	Sleep 1500ms
	Fork name[8] fork[0]:
		CamLookPos (76870, -8000, -23160) 2000ms
	Fork name[8] fork[1]:
		CamSetDistance 0 4860 -10000 2000ms
	Fork name[8] fork[2]:
		CamZoom 3840 2000ms
	ForkWait name[8] fork[0]
	Sleep 500ms
	CrossFade 250ms
	SoundPlay sound[213] 0 0 100
	CharSetChipBase name[8] chip[65535]
	CharSetChipPattern name[8] 0
	Sleep 100ms
	SoundPlay sound[213] 0 0 100
	CharSetChipBase name[14] chip[65535]
	CharSetChipPattern name[14] 0
	FadeWait
	ForkWait name[8] fork[0]
	Sleep 500ms
	TextTalk name[8] {
		#88335v#1063F#5P...{wait}
	}
	TextWait
	CharTurnTo name[14] 0deg 500deg/s
	TextTalk name[14] {
		#91691v#1441F#6PHow can this be...?{wait}
	}
	TextWait
	CharTurnTo name[8] 180deg 400deg/s
	Sleep 300ms
	TextTalk name[8] {
		#88336v#1065F#2PI know exactly what you mean.{wait}
	} {
		#88337v#1067FThere are a whole lot of monster types in our
		world, but that's my first time seeing any like
		THAT.{wait}
	} {
		#88338vThis is like being in a totally different realm.{wait}
	}
	TextWait
	TextTalk name[14] {
		#91692v#1445F#6P...{wait}
	} {
		#91693v#1446FAnd the monsters weren't even
		the strangest part.{wait}
	}
	TextWait
	TextTalk name[8] {
		#88339v#1063F#2PTell me about it. The elements against them
		weren't your usual affair, either.{wait}
	}
	TextWait
	TextTalk name[14] {
		#91694v#1443F#6PExactly.{wait}
	} {
		#91695vThe three elements of space, mirage, and time
		were in effect during that battle, too.{wait}
	} {
		#91696vNot just the traditional four elements.{wait}
	}
	TextWait
	TextTalk name[8] {
		#88340v#1065F#2PVery observant, rookie. Didn't think you'd notice
		to that extent.{wait}
	} {
		#88341v#1060FThis points to yet another clue that we're a long
		ways from home.{wait}
	} {
		#88342vI mean, you'll find a boatload of monsters that're
		weak to fire in Zemuria, but you're not going to
		find any that are weak to mirage.{wait}
	} {
		#88343vYou know how it is.{wait}
	}
	TextWait
	TextTalk name[14] {
		#91697v#1446F#6PIndeed, I do. Spiritually, the world in which we
		live is in a relatively low plane of existence. {wait}
	} {
		#91698vTo quote the Testaments:{wait}
	} {
		#91699v#1440F'Our world and the world of the Goddess will
		forever be separate; She simply drops pebbles
		from above, known as miracles...'{wait}
	}
	TextWait
	TextTalk name[8] {
		#88344v#1060F#2PQuoting word for word? Though, hey,
		I guess those ARE the basic principles.{wait}
	} {
		#88345v#1065FWe just keep running into surprises.
		Space, time, AND mirage? All here?{wait}
	} {
		#88346v#1067FIt should be impossible...{wait}
	}
	TextWait
	TextTalk name[14] {
		#91700v#1445F#6P...{wait}
	} {
		#91701v#1802FWhat about those monsters themselves?{wait}
	}
	TextWait
	TextTalk name[8] {
		#88347v#1065F#2PHonestly, they were less 'monsters' and more 
		'fiends.'{wait}
	} {
		#88348v#1063FCreatures that shouldn't even be allowed to
		exist in our world, and yet they somehow do
		without any problems here.{wait}
	} {
		#88349vAnd I doubt that those are the only ones.{wait}
	}
	TextWait
	TextTalk name[14] {
		#91702v#1802F#6P...{wait}
	} {
		#91703v#1445FAre we going to be all right in here?{wait}
	}
	TextWait
	TextTalk name[8] {
		#88350v#1065F#2PHopefully. They were tough, but not so tough we
		can't handle them if we're together.{wait}
	} {
		#88351v#1060FIt's not like there's anything else for us to do back
		in that base area. Let's keep walkin' and see what
		we find, I say.{wait}
	} {
		#88352vIt might be worth going back briefly to check our
		orbment setups, though, seeing as we've got more
		elements to account for now.{wait}
	}
	TextWait
	TextTalk name[14] {
		#91704v#1443F#6P...True.{wait}
	} {
		#91705v#1446FOh, Kevin.
		Let me give you this.{wait}
	}
	TextWait
	SoundPlay sound[17] 0 0 100
	FadeOut 300ms 0x00000000 100
	TextSetPos -1 -1 -1 -1
	TextSetName ""
	TextMessage null {
		{color 5}Ries handed Kevin the {item item[527]}{color 5}.{wait}
	}
	TextWait
	TextClose 0
	FadeIn 300ms 0x00000000
	TextSetPos 72 320 56 3
	ItemAdd item[527] 1
	TextTalk name[8] {
		#88353v#1079F#4PHmm? What's this for?{wait}
	}
	TextWait
	TextTalk name[14] {
		#91706v#1448F#6PIt's called a Monster Guide.
		It was designed to record data on monsters.
		Their habits, their weaknesses, and the like.{wait}
	} {
		#91707vI think it would be wise for us to note anything
		and everything we come across here.{wait}
	} {
		#91708v#1447FAlthough, I suppose 'Fiend Guide' would be
		more appropriate here.{wait}
	}
	TextWait
	TextTalk name[8] {
		#88354v#1840F#4PHaha. You're tellin' me.{wait}
	} {
		#88355v#1841FYou sure I can't just store all this info up in the
		ol' noggin, though? I'm already putting enough stuff in
		the Gralsritter notebook as it is! My hands're gonna
		go numb at this rate.{wait}
	}
	TextWait
	TextTalk name[14] {
		#91709v#1801F#6P...You complain way too much, Kevin.{wait}
	} {
		#91710v#1446FYou're a knight. Do your job.{wait}
	}
	TextWait
	TextTalk name[8] {
		#88356v#1068F#4PUgh... Yes, ma'am.{wait}
	} {
		#88357v#1066FNo time like the present, I guess.{wait}
	} {
		#88358v#1075F*scribble* *scribble*{wait}
	} {
		#88359v#1060FThere. Happy?{wait}
	}
	TextWait
	FlagSet flag[9739]
	QuestTaskSet quest[40] 0x0010
	QuestTaskSet quest[40] 0x0020
	QuestTaskSet quest[40] 0x0040
	QuestTaskSet quest[40] 0x0080
	CharFlagsUnset char[4] 0x0080
	CharFlagsUnset char[5] 0x0080
	CharFlagsUnset char[6] 0x0080
	CharFlagsUnset char[7] 0x0080
	CharFlagsUnset char[8] 0x0080
	CharFlagsUnset char[9] 0x0080
	CharFlagsUnset char[10] 0x0080
	Sleep 500ms
	EventEnd 0
	system[49] = 331
	Minigame 22 0 0 0 0 0 0 0 0
	Return

fn[4]:
	EffPlay eff[0] eff_instance[255] self 0 (0, 300, 0) 0 0 0 1000 1000 1000 null (0, 0, 0) 0ms
	Fork char[0] fork[1]:
		CharColor self 0x00FFFFFF 500ms
	SoundPlay sound[532] 0 0 100
	SoundPlay sound[153] 0 0 100
	ForkWait char[0] fork[1]
	CharFlagsSet char[0] 0x0080
	Return

fn[5]:
	Sleep 200ms
	EffPlay eff[0] eff_instance[255] self 0 (0, 300, 0) 0 0 0 1000 1000 1000 null (0, 0, 0) 0ms
	Fork char[1] fork[1]:
		CharColor self 0x00FFFFFF 500ms
	SoundPlay sound[532] 0 0 100
	SoundPlay sound[153] 0 0 100
	ForkWait char[1] fork[1]
	CharFlagsSet char[1] 0x0080
	Return

fn[6]:
	Sleep 400ms
	EffPlay eff[0] eff_instance[255] self 0 (0, 300, 0) 0 0 0 1000 1000 1000 null (0, 0, 0) 0ms
	Fork char[2] fork[1]:
		CharColor self 0x00FFFFFF 500ms
	SoundPlay sound[532] 0 0 100
	SoundPlay sound[153] 0 0 100
	ForkWait char[2] fork[1]
	CharFlagsSet char[2] 0x0080
	Return

fn[7]:
	EventBegin 1
	system[40] = 65535
	VisShow vis[0] 0 0 640 480 0 0 768 512 0 0 640 480 0x00FFFFFF 0 "C_VIS499._CH"
	VisShow vis[1] 0 0 640 480 0 0 768 512 0 0 640 480 0x00FFFFFF 0 "C_VIS445._CH"
	VisShow vis[2] 0 0 640 480 0 0 768 512 0 0 640 480 0x00FFFFFF 1 "C_VIS448._CH"
	VisSet vis[0] 3 0xFFFFFFFF 500ms 0 0
	CrossFade 500ms
	CharSetPos name[8] (58550, -60000, -72010) 90deg
	CharSetPos name[14] (59260, -60000, -70430) 135deg
	CharSetChipBase name[8] chip[65535]
	CharSetChipPattern name[8] 0
	CharSetChipBase name[14] chip[65535]
	CharSetChipPattern name[14] 0
	CamLookPos (58520, -60000, -70440) 0ms
	CamSetDistance 0 5400 -10000 0ms
	CamZoom 3600 0ms
	CamRotate 315000mdeg 0ms
	CamPers 216 0ms
	FadeWait
	Sleep 300ms
	TextTalk name[8] {
		#88360v#1079F#5PHuh? What's this?{wait}
	}
	TextWait
	TextTalk name[14] {
		#91711v#1442F#5PIt's really pretty...{wait}
	} {
		#91712vIt looks kind of like a cube of septium,
		but I don't think that's what it is...{wait}
	}
	TextWait
	TextTalk name[8] {
		#88361v#1060F#5PYeah. Maybe we should touch it and see
		what happens.{wait}
	}
	TextWait
	Fork name[8] fork[0]:
		CamLookPos (59080, -60000, -70580) 1500ms
	CharWalkToPos name[8] (59400, -60000, -71960) 1000mm/s 0
	ForkWait name[8] fork[0]
	Sleep 500ms
	CrossFade 250ms
	CharSetChipBase name[8] chip[14]
	CharSetChipPattern name[8] 0
	FadeWait
	Sleep 300ms
	CharWalkToPos2 char[3] (59650, -59000, -71820) 500mm/s 0
	Sleep 500ms
	CrossFade 500ms
	EffStop eff_instance[7] 0
	EffStop eff_instance[6] 0
	CharFlagsSet char[3] 0x0080
	FadeWait
	Sleep 500ms
	SoundPlay sound[17] 0 0 100
	FadeOut 300ms 0x00000000 100
	TextSetPos -1 -1 -1 -1
	TextSetName ""
	TextMessage null {
		{color 5}Found {item item[850]}{color 5}.{wait}
	}
	TextWait
	TextClose 0
	FadeIn 300ms 0x00000000
	TextSetPos 72 320 56 3
	ItemAdd item[850] 1
	CharTurnTo name[14] 180deg 400deg/s
	Sleep 300ms
	TextTalk name[14] {
		#91713v#1443F#2PDoes it seem harmful?{wait}
	}
	TextWait
	CrossFade 250ms
	CharSetChipBase name[8] chip[65535]
	CharSetChipPattern name[8] 0
	FadeWait
	Sleep 300ms
	TextTalk name[8] {
		#88362v#1075F#6PNope. Seems safe to me.{wait}
	} {
		#88363v#1060FWish I knew what it was, though. The light coming
		off it's so...warm.{wait}
	} {
		#88364vThe kind of slow, rhythmic glowing from it reminds
		me of a beating heart in a way.{wait}
	}
	TextWait
	SoundPlay sound[351] 0 0 100
	Sleep 1000ms
	Emote name[8] 0mm 2000mm 2 7 80ms 1
	SoundPlay sound[39] 0 0 100
	Sleep 50ms
	Emote name[14] 0mm 2000mm 2 7 80ms 1
	SoundPlay sound[39] 0 0 100
	Sleep 1000ms
	TextTalk name[14] {
		#91714v#1444F#2PWas that...?{wait}
	}
	TextWait
	TextTalk name[8] {
		#88365v#1063F#5PThere's our cube again.{wait}
	}
	TextWait
	Sleep 300ms
	CrossFade 500ms
	SoundPlay sound[143] 0 0 100
	SoundPlay sound[213] 0 0 100
	CharSetChipBase name[8] chip[2]
	CharSetChipPattern name[8] 0
	FadeWait
	Sleep 300ms
	CharTurnTo name[14] 135deg 400deg/s
	Sleep 150ms
	FadeOut 300ms 0x00000000 100
	Sc_C4Set 2048
	TextSetPos -1 80 -1 -1
	TextMessage null {
		#93148v{color 12}{0x18}#2S#80WVisitor from afar...{wait}
	}
	TextWait
	TextClose 0
	TextSetPos -1 80 -1 -1
	TextMessage null {
		#93149v{color 12}{0x18}#2S#80WYou who possess the cube...{wait}
	}
	TextWait
	TextClose 0
	TextSetPos 72 320 56 3
	Sc_C4Unset 2048
	FadeIn 300ms 0x00000000
	Sleep 300ms
	TextTalk name[14] {
		#91715v#1802F#5PIt's that voice from earlier...{wait}
	}
	TextWait
	TextTalk name[8] {
		#88366v#1069F#5PJust who are you?!{wait}
	} {
		#88367vWhere are you talking to us from?!{wait}
	}
	TextWait
	Sleep 150ms
	FadeOut 300ms 0x00000000 100
	Sc_C4Set 2048
	TextSetPos -1 80 -1 -1
	TextMessage null {
		#93150v{color 12}{0x18}#2S#80WRaise that sealing stone before the monument
		in the garden...{wait}
	}
	TextWait
	TextClose 0
	TextSetPos -1 80 -1 -1
	TextMessage null {
		#93151v{color 12}{0x18}#2S#80W...then the barrier...and the imprisoned...shall...{wait}
	}
	TextWait
	TextClose 0
	TextSetPos 72 320 56 3
	Sc_C4Unset 2048
	FadeIn 300ms 0x00000000
	TextTalk name[8] {
		#88368v#1063F#5PArgh... I can barely work out what it's trying to
		say...{wait}
	} {
		#88369v#1069FAll I could get is that we need to take this thing
		to the monument.{wait}
	}
	TextWait
	Sleep 150ms
	FadeOut 300ms 0x00000000 100
	Sc_C4Set 2048
	TextSetPos -1 80 -1 -1
	TextMessage null {
		#93152v{color 12}{0x18}#2S#80W...I will unlock another power...cube...{wait}
	}
	TextWait
	TextClose 0
	TextSetPos -1 80 -1 -1
	TextMessage null {
		#93153v{color 12}{0x18}#2S#80W...Make use of...it...{wait}
	}
	TextWait
	TextClose 0
	TextSetPos 72 320 56 3
	Sc_C4Unset 2048
	FadeIn 300ms 0x00000000
	SoundPlay sound[351] 0 0 100
	Sleep 1000ms
	EffLoad eff[0] "map\\mp252_01.eff"
	EffPlay eff[0] eff_instance[0] name[8] 0 (270, 1250, 100) 0 0 0 1000 1000 1000 null (0, 0, 0) 0ms
	SoundPlay sound[201] 0 0 100
	Sleep 1500ms
	Sleep 500ms
	FadeOut 300ms 0x00000000 100
	TextSetPos -1 -1 -1 -1
	TextSetName ""
	TextMessage null {
		{color 5}The cube's warp functionality is now available.{wait}
	}
	TextWait
	TextClose 0
	Sleep 500ms
	VisSet vis[0] 3 0x00FFFFFF 500ms 0 0
	SoundStop sound[201]
	Sleep 500ms
	VisSet vis[1] 3 0xFFFFFFFF 500ms 0 0
	VisSet vis[2] 0 592000 16000 0ms 0
	VisSet vis[2] 1 250 250 0ms 0
	FlagUnset flag[1]
	ForkFunc field_party[0] fork[0] fn[0,8]
	Sleep 1500ms
	TextSetPos -1 -1 -1 -1
	TextSetName ""
	TextMessage null {
		{color 5}To use it, click the icon at the top-right corner of the
		screen, then select the location you wish to warp to.{wait}
	}
	TextWait
	TextClose 0
	ItemRemove item[830] 1
	ItemAdd item[529] 1
	FlagSet flag[1]
	Sleep 500ms
	VisSet vis[1] 3 0x00FFFFFF 500ms 0 0
	FadeIn 300ms 0x00000000
	VisSet vis[0] 3 0xFFFFFFFF 500ms 0 0
	SoundPlay sound[201] 0 0 100
	FadeWait
	Sleep 1000ms
	CrossFade 500ms
	EffStop eff_instance[0] 0
	SoundStop sound[201]
	FadeWait
	Sleep 1000ms
	TextTalk name[8] {
		#88370v#1079F#5PWh-What the...?{wait}
	}
	TextWait
	Sleep 150ms
	FadeOut 300ms 0x00000000 100
	Sc_C4Set 2048
	TextSetPos -1 80 -1 -1
	TextMessage null {
		#93154v{color 12}{0x18}#2S#80WBeware the...malevolent one...{wait}
	}
	TextWait
	TextClose 0
	TextSetPos -1 80 -1 -1
	TextMessage null {
		#93155v{color 12}{0x18}#2S#80WGather strength...or you too will be forever...{wait}
	}
	TextWait
	TextClose 0
	TextSetPos -1 80 -1 -1
	TextMessage null {
		#93156v{color 12}{0x18}#2S#80W...{wait}
	}
	TextWait
	TextClose 0
	TextSetPos 72 320 56 3
	Sc_C4Unset 2048
	FadeIn 300ms 0x00000000
	Fork party[0] fork[0]:
		CamLookPos (58430, -60000, -70120) 1500ms
	Emote name[8] 0mm 2000mm 24 27 250ms 0
	Emote name[14] 0mm 2000mm 24 27 250ms 0
	Sleep 2000ms
	EmoteStop name[8]
	EmoteStop name[14]
	Sleep 300ms
	ForkWait party[0] fork[0]
	CharTurnTo name[14] 180deg 400deg/s
	Sleep 300ms
	TextTalk name[14] {
		#91716v#1443F#2PUmm...{wait}
	}
	TextWait
	TextTalk name[8] {
		#88371v#1068F#5PDon't even ask...{wait}
	} {
		#88372vI feel like I'm in some kinda weird dream
		that just gets freakier by the minute.{wait}
	}
	TextWait
	Sleep 150ms
	CrossFade 500ms
	SoundPlay sound[143] 0 0 100
	CharSetChipBase name[8] chip[65535]
	CharSetChipPattern name[8] 0
	FadeWait
	CharTurnTo name[8] 0deg 400deg/s
	Sleep 300ms
	TextTalk name[8] {
		#88373v#1060F#6PI don't sense anything bad coming from the voice,
		at least. More like it's trying to guide us forward.{wait}
	}
	TextWait
	TextTalk name[14] {
		#91717v#1446F#2PTrue. It does...{wait}
	} {
		#91718v#1443FYou don't think the cube has a will of its own
		and that it's the thing talking to us, do you?{wait}
	}
	TextWait
	TextTalk name[8] {
		#88374v#1065F#6PI doubt it. It kept talking about the cube as
		if it were a separate object. {wait}
	} {
		#88375vMy hunch is that the source of the voice is 
		someone else.{wait}
	} {
		#88376v#1063FAnd then there's that 'malevolent one' it
		was bringing up, too.{wait}
	} {
		#88377vI could see that being that man in black
		we saw when we were thrown in here,
		but it could very easily be someone else.{wait}
	}
	TextWait
	Emote name[14] 0mm 2000mm 14 15 250ms 2
	SoundPlay sound[49] 0 0 100
	Sleep 1000ms
	TextTalk name[14] {
		#91719v#1445F#2P...All of this is starting to make my head hurt.{wait}
	}
	TextWait
	TextTalk name[8] {
		#88378v#1068F#6PJoin the club...{wait}
	} {
		#88379v#1060FWell, let's try and take things one step at
		a time, okay?{wait}
	} {
		#88380vAnd on that note, the best place to start is 
		probably giving the cube's new power a shot.{wait}
	}
	TextWait
	Emote name[14] 0mm 2000mm 2 7 80ms 1
	SoundPlay sound[39] 0 0 100
	Sleep 1000ms
	TextTalk name[14] {
		#91720v#1444F#2PYou're serious?{wait}
	}
	TextWait
	TextTalk name[8] {
		#88381v#1075F#6PSerious as can be.{wait}
	} {
		#88382v#1062FThere aren't many artifacts that have the power
		of teleportation, y'know.{wait}
	} {
		#88383vAnd in the situation we're stuck in, we need to
		use everything we've got at our disposal.{wait}
	}
	TextWait
	TextTalk name[14] {
		#91721v#1446F#2P...All right.{wait}
	} {
		#91722v#1443FBe sure you're careful when using it.{wait}
	}
	TextWait
	TextTalk name[8] {
		#88384v#1060F#6PI will.{wait}
	}
	TextWait
	FlagSet flag[9740]
	QuestTaskSet quest[40] 0x0100
	QuestTaskSet quest[40] 0x0200
	QuestTaskSet quest[40] 0x0400
	LookPointFlagsSet look_point[0] 0x0001
	Sleep 300ms
	VisSet vis[0] 3 0x00FFFFFF 500ms 0 0
	EventEnd 0
	Return

fn[8]:
	VisSet vis[2] 3 0xFFFFFFFF 500ms 0 0
	VisSet vis[2] 4 0 0 0 0
	Sleep 500ms
	while 1:
		Sleep 200ms
		VisSet vis[2] 3 0x00FFFFFF 500ms 0 0
		Sleep 500ms
		if flag[1]:
			break
		VisSet vis[2] 3 0xFFFFFFFF 500ms 0 0
		Sleep 500ms
	Return

fn[9]:
	if flag[9741]:
		Return
	if !flag[9740]:
		Return
	EventBegin 1
	if system[10] == 8:
		CharTurnToChar name[8] name[14] 400deg/s
		TextTalk name[8] {
			#88385v#1078FHold on. Why don't we take this chance to try
			using the cube?{wait}
		} {
			#88386vI want to see if it really does let us warp.{wait}
		}
		TextWait
		CharTurnToChar name[14] name[8] 400deg/s
		TextTalk name[14] {
			#91723v#1801F...Do we have to?{wait}
		}
		TextWait
	elif system[10] == 14:
		CharTurnToChar name[8] name[14] 400deg/s
		TextTalk name[8] {
			#88387v#1078FHold on. Why don't we take this chance to try
			using the cube?{wait}
		} {
			#88388vI want to see if it really does let us warp.{wait}
		}
		TextWait
		CharTurnToChar name[14] name[8] 400deg/s
		TextTalk name[14] {
			#91724v#1801F...Do we have to?{wait}
		}
		TextWait
	_Char90 field_party[0] 1500 0 0 3000 0
	Sleep 50ms
	EventEnd 4
	Return

fn[10]:
	EventBegin 0
	FadeOut 0ms 0x00000000 255
	CharFlagsSet name[8] 0x0080
	CharFlagsSet name[14] 0x0080
	CamLookPos (-4830, -49650, -96300) 0ms
	CamSetDistance 0 5450 -10000 0ms
	CamZoom 4600 0ms
	CamRotate 315000mdeg 0ms
	CamPers 262 0ms
	Fork name[8] fork[0]:
		CamZoom 4200 3000ms
	FadeIn 2000ms 0x00000000
	FadeWait
	ForkWait name[8] fork[0]
	CrossFade 1000ms
	SoundPlay sound[279] 0 0 100
	ObjFlagsSet object[4] 0x0004
	FadeWait
	Sleep 1000ms
	FadeOut 1000ms 0x00000000 255
	FadeWait
	FlagSet flag[9477]
	NewScene "u7000._sn" 100 0 0
	Hcf
	EventEnd 0
	Return

fn[11]:
	if !flag[9741]:
		Return
	if flag[9742]:
		Return
	EventBegin 0
	CrossFade 500ms
	CharSetPos name[8] (1750, -52000, -98180) 270deg
	CharSetPos name[14] (2590, -52000, -97130) 270deg
	CharSetPos name[6] (3530, -52000, -98900) 270deg
	CharSetChipBase name[8] chip[65535]
	CharSetChipPattern name[8] 0
	CharSetChipBase name[14] chip[65535]
	CharSetChipPattern name[14] 0
	CharSetChipBase name[6] chip[65535]
	CharSetChipPattern name[6] 0
	CamLookPos (-160, -52000, -96500) 0ms
	CamSetDistance 0 5880 -10000 0ms
	CamZoom 4140 0ms
	CamRotate 315000mdeg 0ms
	CamPers 228 0ms
	FadeWait
	Sleep 300ms
	TextTalk name[14] {
		#91754v#1444FHmm?{wait}
	} {
		#91755vWasn't this path blocked before?{wait}
	}
	TextWait
	TextTalk name[8] {
		#88420v#1063FSure was... What's going on?{wait}
	}
	TextWait
	Emote name[6] 0mm 1700mm 0 1 250ms 2
	SoundPlay sound[38] 0 0 100
	Sleep 1200ms
	CharTurnTo name[6] 315deg 400deg/s
	Sleep 300ms
	TextTalk name[6] {
		#82442v#064F#6PIs something wrong?{wait}
	}
	TextWait
	Fork name[8] fork[0]:
		CamLookPos (2100, -52000, -97400) 1300ms
	Fork name[8] fork[1]:
		CamSetDistance 0 5980 -10000 1300ms
	Fork name[8] fork[2]:
		CamZoom 4000 1300ms
	Fork name[14] fork[0]:
		CharTurnTo name[14] 180deg 400deg/s
	Sleep 100ms
	CharTurnTo name[8] 90deg 400deg/s
	ForkWait name[8] fork[0]
	TextTalk name[14] {
		#91756v#1443F#2PThe last time we passed by here, this path was
		blocked by some kind of barrier.{wait}
	} {
		#91757vBut as you can see, it's nowhere to be seen now.{wait}
	}
	TextWait
	TextTalk name[6] {
		#82443v#063F#6PReally...?{wait}
	} {
		#82444vI wonder what could have caused that.{wait}
	}
	TextWait
	TextTalk name[8] {
		#88421v#1065F#5PWell, if we think about what's changed since
		when we last passed here and now...{wait}
	} {
		#88422v#1063F...maybe it was releasing Tita from that stone
		that caused it to disappear?{wait}
	} {
		#88423vI mean, we haven't done anything else.{wait}
	}
	TextWait
	TextTalk name[6] {
		#82445v#064F#6PO-Oh, I see...{wait}
	} {
		#82446v#561FStill, that actually could be it.{wait}
	}
	TextWait
	TextTalk name[8] {
		#88424v#1064F#5PHuh? You think?{wait}
	}
	TextWait
	TextTalk name[6] {
		#82447v#062F#6PThink about it. The stone with me inside was
		near here, too, right? Maybe that was more
		than a coincidence.{wait}
	} {
		#82448vThis could be among one of the many rules
		that govern this place that we just haven't
		figured out yet.{wait}
	}
	TextWait
	TextTalk name[8] {
		#88425v#1063F#5PRules?{wait}
	}
	TextWait
	TextTalk name[14] {
		#91758v#1447F#2P...Hmm. I think I get what you're trying to say.{wait}
	} {
		#91759v#1448FSo in this case, we wouldn't have been able to
		advance any farther if we hadn't released you
		from that stone?{wait}
	}
	TextWait
	TextTalk name[6] {
		#82449v#560F#6PThat's right. I can't be sure, but I do have
		a good feeling about it.{wait}
	}
	TextWait
	TextTalk name[8] {
		#88426v#1060F#5PAnd a good feeling is good enough for me right
		now.{wait}
	} {
		#88427v#1065FWe still don't have a clue who's responsible
		for the situation we're in, but it all feels very
		deliberately set up.{wait}
	}
	TextWait
	TextTalk name[14] {
		#91760v#1443F#2PWhich is all the reason we'll need to be careful,
		I suppose.{wait}
	}
	TextWait
	FlagSet flag[9742]
	QuestTaskSet quest[41] 0x0004
	QuestTaskSet quest[41] 0x0008
	QuestTaskSet quest[41] 0x0010
	Sleep 500ms
	EventEnd 0
	Return

fn[12]:
	if flag[9743]:
		Return
	EventBegin 0
	if system[10] == 8:
		Emote name[8] 0mm 2000mm 2 7 80ms 1
		SoundPlay sound[39] 0 0 100
		Sleep 1000ms
		CharTurnTo name[8] 270deg 400deg/s
		Sleep 300ms
		TextTalk name[8] {
			#88428v#1079F#12PHuh?{wait}
		}
		TextWait
	elif system[10] == 14:
		Emote name[14] 0mm 2000mm 2 7 80ms 1
		SoundPlay sound[39] 0 0 100
		Sleep 1000ms
		CharTurnTo name[14] 270deg 400deg/s
		Sleep 300ms
		TextTalk name[14] {
			#91761v#1444F#12PHuh?{wait}
		}
		TextWait
	elif system[10] == 6:
		Emote name[6] 0mm 1700mm 2 7 80ms 1
		SoundPlay sound[39] 0 0 100
		Sleep 1000ms
		CharTurnTo name[6] 270deg 400deg/s
		Sleep 300ms
		TextTalk name[6] {
			#82450v#064F#12PHuh?{wait}
		}
		TextWait
	Sleep 300ms
	Fork name[8] fork[0]:
		CamLookPos (-47880, -52000, -80330) 3500ms
	Fork name[8] fork[1]:
		CamSetDistance 0 5600 -10000 3500ms
	Fork name[8] fork[2]:
		CamZoom 3500 3500ms
	Fork name[14] fork[0]:
		CamRotate 315000mdeg 3500ms
	Fork name[14] fork[1]:
		CamPers 255 3500ms
	Fork field_party[1] fork[3]:
		CharTurnTo self 270deg 400deg/s
	CharTurnTo field_party[2] 270deg 400deg/s
	ForkWait name[8] fork[0]
	Sleep 1000ms
	Fork name[8] fork[1]:
		CamLookPos (-46610, -52000, -80360) 4000ms
	Fork name[8] fork[2]:
		CamSetDistance 0 5000 -10000 4000ms
	Fork name[8] fork[3]:
		CamZoom 3550 4000ms
	CharSetPos name[8] (-36110, -52000, -82630) 270deg
	CharSetPos name[14] (-35600, -52000, -81580) 270deg
	CharSetPos name[6] (-34670, -52000, -82170) 270deg
	Fork name[8] fork[0]:
		CharWalkToPos self (-44130, -52000, -82940) 2000mm/s 0
	Sleep 300ms
	Fork name[14] fork[0]:
		CharWalkToPos self (-44010, -52000, -81620) 2000mm/s 0
	Sleep 400ms
	Fork name[6] fork[0]:
		CharWalkToPos self (-42560, -52000, -82340) 2000mm/s 0
	ForkWait name[8] fork[0]
	ForkWait name[14] fork[0]
	ForkWait name[6] fork[0]
	ForkWait name[8] fork[1]
	Sleep 500ms
	TextTalk name[8] {
		#88429v#1063FWhat's this?{wait}
	}
	TextWait
	TextTalk name[14] {
		#91762v#1444F#2PA shining door with a moon on it...?{wait}
	}
	TextWait
	SoundPlay sound[546] 0 0 100
	EffStop eff_instance[134] 2
	EffPlay eff[135] eff_instance[255] name[65278] 0 (0, 0, 0) 0 0 0 1000 1000 1000 null (0, 0, 0) 0ms
	Sleep 1000ms
	Emote name[8] 0mm 2000mm 2 7 80ms 1
	SoundPlay sound[39] 0 0 100
	Sleep 50ms
	Emote name[14] 0mm 2000mm 2 7 80ms 1
	SoundPlay sound[39] 0 0 100
	Sleep 50ms
	Emote name[6] 0mm 1700mm 2 7 80ms 1
	SoundPlay sound[39] 0 0 100
	Sleep 1000ms
	Sleep 500ms
	FadeOut 300ms 0x00000000 100
	Sc_C4Set 2048
	TextSetPos -1 120 -1 -1
	TextMessage null {
		#99869v{color 5}#2S#40WWelcome...{wait}
	}
	TextWait
	TextClose 0
	Sleep 500ms
	TextSetPos -1 90 -1 -1
	TextMessage null {
		#99870v{color 5}#40WBring to me the girl skilled in orbal engineering.

		#500W 
		#40WOnly then shall the door open...{color 0}{wait}
	}
	TextWait
	TextSetPos 72 320 56 3
	Sc_C4Unset 2048
	FadeIn 300ms 0x00000000
	Sleep 500ms
	Emote name[6] 0mm 1700mm 40 43 100ms 3
	Sleep 1000ms
	TextTalk name[6] {
		#82451v#065F#12PWh-Whoa! I could hear a voice talking right
		into my mind!{wait}
	}
	TextWait
	TextTalk name[8] {
		#88430v#1063FIt looks like this door's got a will of its own
		like the tree, spring, and monument back in
		the garden.{wait}
	} {
		#88431v#1065FThere'll come a day when I get used to all
		these funky talking objects, I'm sure...{wait}
	}
	TextWait
	TextTalk name[14] {
		#91763v#1802F#2PI can only think of one person who
		might fit the door's description...{wait}
	}
	TextWait
	Fork name[8] fork[0]:
		CharTurnTo name[8] 90deg 400deg/s
	Sleep 100ms
	CharTurnTo name[14] 135deg 400deg/s
	Emote name[8] 0mm 2000mm 24 27 250ms 0
	Emote name[14] 0mm 2000mm 24 27 250ms 0
	Sleep 2000ms
	EmoteStop name[8]
	EmoteStop name[14]
	Emote name[6] 0mm 1700mm 2 7 80ms 1
	SoundPlay sound[39] 0 0 100
	Sleep 1000ms
	Emote name[6] 0mm 1700mm 40 43 100ms 3
	Sleep 1000ms
	TextTalk name[6] {
		#82452v#065F#12PY-You think it means me?{wait}
	}
	TextWait
	TextTalk name[14] {
		#91764v#1446F#5PMost likely.{wait}
	}
	TextWait
	TextTalk name[8] {
		#88432v#1068F#5PIt's a pretty terrible riddle.
		It's sure not me or Ries.{wait}
	}
	TextWait
	CharTurnTo name[8] 270deg 400deg/s
	TextTalk name[8] {
		#88433v#1063FHey, door. It's her you mean, right?{wait}
	}
	TextWait
	CharTurnTo name[14] 270deg 400deg/s
	Sleep 150ms
	FadeOut 300ms 0x00000000 100
	Sc_C4Set 2048
	TextSetPos -1 120 -1 -1
	TextMessage null {
		#99871v{color 5}#2S#40WIndeed... She is the one I seek.{wait}
	}
	TextWait
	TextClose 0
	Sleep 300ms
	Sc_C4Unset 2048
	FadeIn 300ms 0x00000000
	Sleep 300ms
	Sleep 500ms
	SoundPlay sound[312] 0 0 100
	EffPlay eff[133] eff_instance[255] name[65278] 0 (0, 0, 0) 0 0 0 1000 1000 1000 null (0, 0, 0) 0ms
	ObjFrame object[3] 0
	ObjPlay object[3] 120
	Sleep 300ms
	SoundPlay sound[250] 0 0 100
	ObjWait object[3]
	Sleep 500ms
	Sleep 150ms
	FadeOut 300ms 0x00000000 100
	Sc_C4Set 2048
	TextSetPos -1 90 -1 -1
	TextMessage null {
		#99872v{color 5}#40WOnly she may enter...
		#500W 
		#40WIf she fears not the trial within,
		she should step forth through the door.{color 0}{wait}
	}
	TextWait
	TextClose 0
	TextSetPos 72 320 56 3
	Sc_C4Unset 2048
	FadeIn 300ms 0x00000000
	Sleep 500ms
	TextTalk name[6] {
		#82453v#065F#12PT-T-Trial?!{wait}
	}
	TextWait
	TextTalk name[8] {
		#88434v#1063FMaybe it wants to test your strength to see
		if you're worthy of...something.{wait}
	} {
		#88435vAnd apparently, we can't even go inside to
		back you up in it.{wait}
	}
	TextWait
	TextTalk name[14] {
		#91765v#1443F#2PThat's ludicrous.{wait}
	} {
		#91766v#1446F#2PI propose we disregard this door and move on.{wait}
	}
	TextWait
	TextTalk name[6] {
		#82454v#561F#12P...{wait}
	} {
		#82455v#062FW-Wait!{wait}
	} {
		#82456vI'm going to go inside!{wait}
	}
	TextWait
	Emote name[8] 0mm 2000mm 2 7 80ms 1
	SoundPlay sound[39] 0 0 100
	Sleep 50ms
	Emote name[14] 0mm 2000mm 2 7 80ms 1
	SoundPlay sound[39] 0 0 100
	Sleep 1000ms
	Fork name[8] fork[0]:
		CharTurnTo name[8] 90deg 500deg/s
	Sleep 100ms
	CharTurnTo name[14] 135deg 500deg/s
	TextTalk name[14] {
		#91767v#1444F#5PBut, Tita...{wait}
	}
	TextWait
	TextTalk name[8] {
		#88436v#1069F#5PHold on just a sec! There's no way...{wait}
	}
	TextWait
	TextTalk name[6] {
		#82457v#062F#12PI feel like this might be another of the 'rules'
		I was talking about earlier.{wait}
	} {
		#82458vAnd besides, we've got so little to work with as
		we try to get out of here. We need all the clues
		and help we can get.{wait}
	} {
		#82459vIf it seems like it'll be too dangerous, I'll come
		right back out. I promise!{wait}
	}
	TextWait
	TextTalk name[14] {
		#91768v#1802F#5PWell...{wait}
	}
	TextWait
	TextTalk name[8] {
		#88437v#1065F#5P...{wait}
	} {
		#88438v#1063FAll right. We're counting on you.{wait}
	} {
		#88439vBut like you said, if it seems too dangerous,
		come right back out. Don't expose yourself
		to any more danger than you need to.{wait}
	}
	TextWait
	TextTalk name[14] {
		#91769v#1448F#5PDo be careful.{wait}
	}
	TextWait
	TextTalk name[6] {
		#82460v#560F#12PI will!{wait}
	}
	TextWait
	Sleep 300ms
	Fork name[8] fork[1]:
		CamLookPos (-47050, -52000, -80660) 1500ms
	ForkFunc name[8] fork[0] fn[0,13]
	ForkFunc name[14] fork[0] fn[0,14]
	Sleep 300ms
	Fork name[6] fork[0]:
		CharWalkToPos self (-44830, -52000, -82470) 1000mm/s 0
	ForkWait name[6] fork[0]
	ForkWait name[8] fork[0]
	ForkWait name[14] fork[0]
	ForkQuit name[8] fork[3]
	ForkQuit name[14] fork[3]
	CharTurnTo name[8] 270deg 400deg/s
	CharTurnTo name[14] 270deg 400deg/s
	ForkWait name[8] fork[1]
	Sleep 1000ms
	Fork name[6] fork[0]:
		CharWalkToPos self (-46830, -52000, -81990) 1000mm/s 0
	Fork name[8] fork[2]:
		CamZoom 2900 4000ms
	Sleep 1300ms
	SoundPlay sound[153] 0 0 100
	Fork name[6] fork[1]:
		CharColor self 0x00FFFFFF 600ms
	SoundPlay sound[312] 0 0 100
	FadeOut 2000ms 0x00FFFFFF 255
	FadeWait
	ForkQuit name[8] fork[2]
	ForkQuit name[6] fork[0]
	ForkQuit name[6] fork[1]
	Sc_C4Set 16
	CamLookPos (-11520, -100000, -123160) 0ms
	FadeIn 3000ms 0x00FFFFFF
	FadeWait
	FadeOut 0ms 0x00000000 255
	FadeWait
	Sc_C4Unset 16
	QuestFlagsSet quest[1] 0x02
	TcEpisodeStart 25 0 0
	NewScene "p9000._sn" 100 0 0
	Hcf
	EventEnd 0
	Return

fn[13]:
	ForkLoop name[8] fork[3]:
		CharTurnToChar self name[6] 400deg/s
	Sleep 50ms
	CharWalkToPos2 name[8] (-43430, -52000, -83670) 1000mm/s 0
	Return

fn[14]:
	ForkLoop name[14] fork[3]:
		CharTurnToChar self name[6] 400deg/s
	Sleep 150ms
	CharWalkToPos2 name[14] (-43480, -52000, -81440) 1000mm/s 0
	Return

fn[15]:
	EventBegin 0
	FadeOut 0ms 0x00000000 255
	FadeWait
	EffPlay eff[133] eff_instance[255] name[65278] 0 (0, 0, 0) 0 0 0 1000 1000 1000 null (0, 0, 0) 0ms
	ObjFrame object[3] 120
	ObjPlay object[3] 120
	CharSetPos name[8] (-42540, -52000, -82980) 270deg
	CharSetPos name[14] (-42570, -52000, -81570) 270deg
	CharSetPos name[6] (-46960, -52000, -82210) 90deg
	CharColor name[6] 0x00FFFFFF 0ms
	CamLookPos (-47380, -52000, -80280) 0ms
	CamSetDistance 0 5050 -10000 0ms
	CamZoom 3020 0ms
	CamRotate 315000mdeg 0ms
	CamPers 286 0ms
	Sleep 2000ms
	BgmPlay bgm[220] 0
	FadeIn 2000ms 0x00000000
	FadeWait
	Fork name[8] fork[0]:
		CamLookPos (-45030, -52000, -80710) 3000ms
	Fork name[8] fork[1]:
		CamZoom 2950 3000ms
	SoundPlay sound[153] 0 0 100
	Fork name[6] fork[0]:
		CharWalkToPos self (-44300, -52000, -82170) 1000mm/s 0
	Fork name[6] fork[1]:
		CharColor self 0xFAFFFFFF 500ms
	ForkWait name[6] fork[0]
	ForkWait name[6] fork[1]
	ForkWait name[8] fork[0]
	ObjFrame object[3] 120
	ObjPlay object[3] 0
	Sleep 300ms
	SoundPlay sound[250] 0 0 100
	ObjWait object[3]
	EffStop eff_instance[133] 2
	Sleep 1000ms
	TextTalk name[8] {
		#88441v#1840FThank Aidios! You're all right.{wait}
	}
	TextWait
	TextTalk name[14] {
		#91771v#1802F#12PAre you feeling okay? You look quite tired.{wait}
	}
	TextWait
	TextTalk name[6] {
		#82470v#563F#5PHeehee. I'm fine!{wait}
	} {
		#82471v#066FI did have to fight some scary enemies,
		but I managed to pull through.{wait}
	}
	TextWait
	TextTalk name[8] {
		#88442v#1075FThat's good...{wait}
	} {
		#88443v#1063FSo what happened in there?{wait}
	}
	TextWait
	TextTalk name[6] {
		#82472v#062F#5PWell...{wait}
	}
	TextWait
	FadeOut 300ms 0x00000000 100
	TextSetPos 72 320 56 3
	TextSetName ""
	TextMessage null {
		{color 5}Tita explained everything that happened on the other side of the door.{wait}
	}
	TextWait
	TextClose 0
	FadeIn 300ms 0x00000000
	FadeWait
	TextTalk name[14] {
		#91772v#1444F#12PI see...{wait}
	}
	TextWait
	TextTalk name[8] {
		#88444v#1067FYep. Sounds like this is another one of our rules,
		all right.{wait}
	} {
		#88445v#1065FIn other words, first you need to meet some 
		condition or conditions to get the door to open.{wait}
	} {
		#88446vAfter that, you fight your way through a battle,
		or trial...{wait}
	} {
		#88447vWin, and you get to see some kind of 'memory
		fragment' and walk away with mira as a bonus.{wait}
	} {
		#88448v#1060FThat sum things up?{wait}
	}
	TextWait
	TextTalk name[6] {
		#82473v#560F#5PYeah... That's how it was for me.{wait}
	} {
		#82474vThe memory fragment didn't feel like it was quite
		finished, though. There seemed to be more that I
		didn't get to see.{wait}
	}
	TextWait
	TextTalk name[8] {
		#88449v#1065FHmm...{wait}
	} {
		#88450vMaybe there's more than one pattern to these
		doors, then.{wait}
	} {
		#88451v#1060FEither way, every time we find one, we should
		probably note its location and conditions down.{wait}
	}
	TextWait
	TextTalk name[14] {
		#91773v#1448F#12PIndeed.{wait}
	}
	TextWait
	Sleep 300ms
	FadeOut 300ms 0x00000000 100
	TextSetPos -1 -1 -1 -1
	TextSetName ""
	TextMessage null {
		{color 5}About Memory Doors{wait}
	}
	TextWait
	TextClose 0
	Sleep 500ms
	TextMessage null {
		{color 5}Memory Doors are located throughout 
		the game and allow you to see various
		optional scenes. In all, there are three 
		types of doors.{wait}
	} {
		Moon Doors - Contain lengthy side stories.
		Star Doors - Contain short side stories.
		Sun Doors - Contain minigames.{wait}
	} {
		In order to open a door, you will need to
		fulfill one or multiple conditions.{wait}
	} {
		Furthermore, some doors will require
		certain characters to win a battle in
		order to view the contents within.{wait}
	} {
		After viewing the contents of a door for 
		the first time, you will earn mira, and 
		depending on your choices or actions,
		potentially even bonuses such as items.{wait}
	} {
		All of this information is automatically
		recorded in the notebook and can be
		viewed at any time.{wait}
	} {
		Finally, you can also warp to any door
		you have discovered using the cube.{wait}
	}
	TextWait
	TextClose 0
	TextSetPos 72 320 56 3
	FadeOut 1000ms 0x00000000 255
	FadeWait
	CamLookPos (-43980, -52000, -82140) 0ms
	CamSetDistance 0 8500 -10000 0ms
	CamZoom 4200 0ms
	CamRotate 315000mdeg 0ms
	CamPers 262 0ms
	CharSetPos field_party[0] (-43980, -52000, -82140) 90deg
	CharSetPos field_party[1] (-43980, -52000, -82140) 90deg
	CharSetPos field_party[2] (-43980, -52000, -82140) 90deg
	CamLookChar field_party[0] 0ms
	FlagSet flag[9743]
	QuestTaskSet quest[41] 0x0020
	QuestTaskSet quest[41] 0x0040
	QuestTaskSet quest[41] 0x0080
	Sleep 500ms
	FadeIn 1000ms 0x00000000
	EventEnd 0
	Return

fn[16]:
	EventBegin 0
	SoundPlay sound[546] 0 0 100
	CrossFade 500ms
	CharSetPos field_party[0] (-44060, -52000, -81130) 270deg
	CharSetPos field_party[1] (-44010, -52000, -83140) 270deg
	CharSetPos field_party[2] (-41890, -52000, -81300) 270deg
	CharSetPos field_party[3] (-41920, -52000, -83220) 270deg
	CamLookPos (-44050, -52000, -82290) 0ms
	CamSetDistance 0 6180 -10000 0ms
	CamZoom 5180 0ms
	CamRotate 315000mdeg 0ms
	CamPers 262 0ms
	FadeWait
	QuestFlagsSet quest[1] 0x02
	if !QuestFlagsGet quest[2] 0x02:
		QuestFlagsSet quest[2] 0x02
	Sleep 1000ms
	FadeOut 300ms 0x00000000 100
	Sc_C4Set 2048
	TextSetName ""
	TextSetPos -1 60 -1 -1
	TextMessage null {
		#99885v{color 5}#40WBring to me the girl skilled in orbal engineering,
		accompanied by an ever-burning flame.

		Only then shall the door open...{color 0}{wait}
	}
	TextWait
	TextSetPos 72 320 56 3
	Sc_C4Unset 2048
	Sleep 500ms
	if PartyPosition name[6] != -1 && PartyPosition name[5] != -1:
		Call fn[0,17]
	elif PartyPosition name[6] != -1:
		Call fn[0,17]
	else:
	FadeIn 300ms 0x00000000
	EventEnd 0
	Return

fn[17]:
	TextSetPos -1 110 -1 -1
	TextSetName ""
	TextMessage null {
		{color 5}Open the Door?{0x18}{wait}
	}
	while var[0] != 255:
		system[40] = 24
		Menu menu[1] -1 -1 1
			"View Part 1" // 0
			"View Part 2" // 1
			"Quit" // 2
		MenuWait var[0]
		system[40] = 65535
		MenuClose menu[1]
		TextClose 0
		Sleep 300ms
		switch var[0]:
			case 0:
				FlagUnset flag[0]
				Call fn[0,18]
				break
			case 1:
				if PartyPosition name[6] != -1 && PartyPosition name[5] != -1:
					FlagSet flag[0]
					Call fn[0,18]
				else:
					Sc_C4Set 2048
					TextSetPos -1 60 -1 -1
					TextMessage null {
						#99884v{color 5}#40WWhen you have met my conditions, return to me once
						more.
						#500W 
						#40WOnly then shall the door open...{color 0}{wait}
					}
					TextWait
					TextClose 0
					TextSetPos 72 320 56 3
					Sc_C4Unset 2048
					var[0] = 255
				break
			case 2:
				var[0] = 255
				break
			default:
				var[0] = 255
				break
	var[0] = 0
	Return

fn[18]:
	FadeIn 300ms 0x00000000
	Sleep 500ms
	EffPlay eff[133] eff_instance[255] name[65278] 0 (0, 0, 0) 0 0 0 1000 1000 1000 null (0, 0, 0) 0ms
	ObjFrame object[3] 0
	ObjPlay object[3] 120
	Sleep 300ms
	SoundPlay sound[250] 0 0 100
	ObjWait object[3]
	Sleep 500ms
	Fork field_party[0] fork[2]:
		CamZoom 4460 3000ms
	SoundPlay sound[312] 0 0 100
	FadeOut 2000ms 0x00FFFFFF 255
	FadeWait
	Sc_C4Set 16
	FadeIn 2000ms 0x00FFFFFF
	FadeWait
	FadeOut 0ms 0x00000000 255
	FadeWait
	Sc_C4Unset 16
	if flag[0]:
		TcEpisodeStart 26 0 0
	else:
		TcEpisodeStart 25 0 0
	NewScene "p9000._sn" 100 0 0
	Hcf
	Return

fn[19]:
	EventBegin 0
	FadeOut 0ms 0x00000000 255
	FadeWait
	Sleep 500ms
	CharSetPos field_party[0] (-44060, -52000, -81130) 270deg
	CharSetPos field_party[1] (-44010, -52000, -83140) 270deg
	CharSetPos field_party[2] (-41890, -52000, -81300) 270deg
	CharSetPos field_party[3] (-41920, -52000, -83220) 270deg
	CamLookPos (-44050, -52000, -82290) 0ms
	CamSetDistance 0 6180 -10000 0ms
	CamZoom 5180 0ms
	CamRotate 315000mdeg 0ms
	CamPers 262 0ms
	FadeWait
	Sleep 500ms
	FadeIn 1000ms 0x00000000
	FadeWait
	Sleep 1000ms
	EventEnd 0
	Return

fn[20]:
	if flag[9738] && !flag[9739]:
		Call fn[0,2]
		Return
	Tc_DE 0 35193088
	system[40] = 65535
	CharSetPos field_party[0] (81830, -8000, -24200) 270deg
	CharSetPos field_party[1] (82880, -8000, -23390) 270deg
	CharSetPos field_party[2] (83060, -8000, -25130) 270deg
	CharSetPos field_party[3] (83760, -8000, -24230) 270deg
	CamLookChar field_party[0] 0ms
	EffLoad eff[0] "map\\mp204_02.eff"
	EffPlay eff[0] eff_instance[255] null 0 (82870, -8000, -24100) 0 0 0 1000 1000 1000 null (0, 0, 0) 0ms
	SoundPlay sound[153] 0 0 100
	SoundPlay sound[184] 0 0 100
	Call fn[0,28]
	EventEnd 0
	system[49] = 331
	Minigame 22 0 0 0 0 0 0 0 0
	Return

fn[21]:
	Tc_DE 0 35193089
	system[40] = 65535
	CharSetPos field_party[0] (-9030, -28000, -58220) 90deg
	CharSetPos field_party[1] (-10030, -28000, -59000) 90deg
	CharSetPos field_party[2] (-10240, -28000, -57360) 90deg
	CharSetPos field_party[3] (-11170, -28000, -58090) 90deg
	CamLookChar field_party[0] 0ms
	EffLoad eff[0] "map\\mp200_02.eff"
	EffPlay eff[0] eff_instance[255] null 0 (-9760, -28000, -58190) 0 0 0 1000 1000 1000 null (0, 0, 0) 0ms
	SoundPlay sound[153] 0 0 100
	SoundPlay sound[184] 0 0 100
	Call fn[0,28]
	EventEnd 0
	Return

fn[22]:
	Tc_DE 0 35193090
	system[40] = 65535
	CharSetPos field_party[0] (16180, -44000, -58840) 180deg
	CharSetPos field_party[1] (15140, -44000, -57850) 180deg
	CharSetPos field_party[2] (17040, -44000, -57890) 180deg
	CharSetPos field_party[3] (16040, -44000, -56770) 180deg
	CamLookChar field_party[0] 0ms
	EffLoad eff[0] "map\\mp200_02.eff"
	EffPlay eff[0] eff_instance[255] null 0 (16050, -44000, -58090) 0 0 0 1000 1000 1000 null (0, 0, 0) 0ms
	SoundPlay sound[153] 0 0 100
	SoundPlay sound[184] 0 0 100
	Call fn[0,28]
	EventEnd 0
	Return

fn[23]:
	Tc_DE 0 35193091
	system[40] = 65535
	CharSetPos field_party[0] (23970, -80000, -137070) 0deg
	CharSetPos field_party[1] (24950, -80000, -138170) 0deg
	CharSetPos field_party[2] (23010, -80000, -137980) 0deg
	CharSetPos field_party[3] (24050, -80000, -139020) 0deg
	CamLookChar field_party[0] 0ms
	EffLoad eff[0] "map\\mp200_02.eff"
	EffPlay eff[0] eff_instance[255] null 0 (24010, -80000, -138080) 0 0 0 1000 1000 1000 null (0, 0, 0) 0ms
	SoundPlay sound[153] 0 0 100
	SoundPlay sound[184] 0 0 100
	Call fn[0,28]
	EventEnd 0
	system[49] = 331
	Minigame 22 0 0 0 0 0 0 0 0
	Return

fn[24]:
	EventBegin 1
	system[40] = 65535
	CrossFade 500ms
	CharSetPos field_party[3] (81830, -8000, -24200) 90deg
	CharSetPos field_party[2] (82880, -8000, -23390) 90deg
	CharSetPos field_party[1] (83060, -8000, -25130) 90deg
	CharSetPos field_party[0] (83760, -8000, -24230) 90deg
	CamLookChar field_party[0] 0ms
	FadeWait
	EffLoad eff[0] "map\\mp204_01.eff"
	EffPlay eff[0] eff_instance[255] null 0 (82870, -8000, -24100) 0 0 0 1000 1000 1000 null (0, 0, 0) 0ms
	SoundPlay sound[153] 0 0 100
	SoundPlay sound[184] 0 0 100
	Call fn[0,29]
	NewScene "u7000._sn" 103 0 0
	Hcf
	Return

fn[25]:
	EventBegin 1
	system[40] = 65535
	CrossFade 500ms
	CharSetPos field_party[3] (-8630, -28000, -58220) 270deg
	CharSetPos field_party[2] (-9630, -28000, -59000) 270deg
	CharSetPos field_party[1] (-9840, -28000, -57360) 270deg
	CharSetPos field_party[0] (-10770, -28000, -58090) 270deg
	CamLookChar field_party[0] 0ms
	FadeWait
	EffLoad eff[0] "map\\mp200_01.eff"
	EffPlay eff[0] eff_instance[255] null 0 (-9760, -28000, -58190) 0 0 0 1000 1000 1000 null (0, 0, 0) 0ms
	SoundPlay sound[153] 0 0 100
	SoundPlay sound[184] 0 0 100
	Call fn[0,29]
	NewScene "m7001._sn" 102 0 0
	Hcf
	Return

fn[26]:
	EventBegin 1
	system[40] = 65535
	CrossFade 500ms
	CharSetPos field_party[3] (16180, -44000, -59240) 0deg
	CharSetPos field_party[2] (15140, -44000, -58250) 0deg
	CharSetPos field_party[1] (17040, -44000, -58290) 0deg
	CharSetPos field_party[0] (16040, -44000, -57170) 0deg
	CamLookChar field_party[0] 0ms
	FadeWait
	EffLoad eff[0] "map\\mp200_01.eff"
	EffPlay eff[0] eff_instance[255] null 0 (16050, -44000, -58090) 0 0 0 1000 1000 1000 null (0, 0, 0) 0ms
	SoundPlay sound[153] 0 0 100
	SoundPlay sound[184] 0 0 100
	Call fn[0,29]
	NewScene "m7001._sn" 101 0 0
	Hcf
	Return

fn[27]:
	EventBegin 1
	system[40] = 65535
	CrossFade 500ms
	CharSetPos field_party[3] (23970, -80000, -137070) 180deg
	CharSetPos field_party[2] (24950, -80000, -138170) 180deg
	CharSetPos field_party[1] (23010, -80000, -137980) 180deg
	CharSetPos field_party[0] (24050, -80000, -139020) 180deg
	CamLookChar field_party[0] 0ms
	FadeWait
	EffLoad eff[0] "map\\mp200_01.eff"
	EffPlay eff[0] eff_instance[255] null 0 (24010, -80000, -138080) 0 0 0 1000 1000 1000 null (0, 0, 0) 0ms
	SoundPlay sound[153] 0 0 100
	SoundPlay sound[184] 0 0 100
	Call fn[0,29]
	NewScene "m7002._sn" 100 0 0
	Hcf
	Return

fn[28]:
	if system[10] != 255:
		CharColor field_party[0] 0x00FFFFFF 0ms
		Fork field_party[0] fork[1]:
			CharColor self 0xFFFFFFFF 800ms
	if system[11] != 255:
		CharColor field_party[1] 0x00FFFFFF 0ms
		Fork field_party[1] fork[1]:
			CharColor self 0xFFFFFFFF 800ms
	if system[12] != 255:
		CharColor field_party[2] 0x00FFFFFF 0ms
		Fork field_party[2] fork[1]:
			CharColor self 0xFFFFFFFF 800ms
	if system[13] != 255:
		CharColor field_party[3] 0x00FFFFFF 0ms
		Fork field_party[3] fork[1]:
			CharColor self 0xFFFFFFFF 800ms
	Sleep 800ms
	ForkQuit field_party[0] fork[1]
	ForkQuit field_party[1] fork[1]
	ForkQuit field_party[2] fork[1]
	ForkQuit field_party[3] fork[1]
	if system[10] != 255:
		CharColor field_party[0] 0xFFFFFFFF 0ms
	if system[11] != 255:
		CharColor field_party[1] 0xFFFFFFFF 0ms
	if system[12] != 255:
		CharColor field_party[2] 0xFFFFFFFF 0ms
	if system[13] != 255:
		CharColor field_party[3] 0xFFFFFFFF 0ms
	Return

fn[29]:
	Fork field_party[0] fork[1]:
		CharColor self 0x00FFFFFF 800ms
	Fork field_party[1] fork[1]:
		CharColor self 0x00FFFFFF 800ms
	Fork field_party[2] fork[1]:
		CharColor self 0x00FFFFFF 800ms
	Fork field_party[3] fork[1]:
		CharColor self 0x00FFFFFF 800ms
	Sleep 1000ms
	Return

fn[30]:
	SystemFlagsSet 0x08000000
	if !flag[9857]:
		SoundPlay sound[43] 0 0 100
		ObjPlay object[0] 60
		Sleep 500ms
		if ItemAdd item[657] 1:
			FadeOut 300ms 0x00000000 100
			SoundPlay sound[17] 0 0 100
			TextSetPos -1 -1 -1 -1
			TextSetName ""
			TextMessage null {
				{color 5}Found {item item[657]}{color 5}.{wait}
			}
			TextWait
			TextClose 0
			TextSetPos 72 320 56 3
			FadeIn 300ms 0x00000000
			FlagSet flag[9857]
		else:
			FadeOut 300ms 0x00000000 100
			TextSetName ""
			TextMessage null {
				{color 5}Found {item item[657]}{color 5} in chest.
				{color 5}Inventory full so gave up {item item[657]}{color 5}.{wait}
			}
			TextWait
			TextClose 0
			FadeIn 300ms 0x00000000
			SoundPlay sound[44] 0 0 100
			ObjFrame object[0] 60
			ObjPlay object[0] 0
	else:
		FadeOut 300ms 0x00000000 100
		TextSetName ""
		TextMessage null {
			{color 5}Did you know? It's true that Zin's name was once written as 'Zane', but
			another name change considered was Olivier's. The original suggestion
			was 'Oliver'. This chest is glad that request never went through.{color 0}{wait}
		}
		TextWait
		TextClose 0
		FadeIn 300ms 0x00000000
		ScAchievement 25 161 0
	Sleep 30ms
	TextEnd null
	SystemFlagsUnset 0x08000000
	Return

fn[31]:
	SystemFlagsSet 0x08000000
	if !flag[9858]:
		SoundPlay sound[43] 0 0 100
		ObjPlay object[1] 60
		Sleep 500ms
		if ItemAdd item[501] 1:
			FadeOut 300ms 0x00000000 100
			SoundPlay sound[17] 0 0 100
			TextSetPos -1 -1 -1 -1
			TextSetName ""
			TextMessage null {
				{color 5}Found {item item[501]}{color 5}.{wait}
			}
			TextWait
			TextClose 0
			TextSetPos 72 320 56 3
			FadeIn 300ms 0x00000000
			FlagSet flag[9858]
		else:
			FadeOut 300ms 0x00000000 100
			TextSetName ""
			TextMessage null {
				{color 5}Found {item item[501]}{color 5} in chest.
				{color 5}Inventory full so gave up {item item[501]}{color 5}.{wait}
			}
			TextWait
			TextClose 0
			FadeIn 300ms 0x00000000
			SoundPlay sound[44] 0 0 100
			ObjFrame object[1] 60
			ObjPlay object[1] 0
	else:
		FadeOut 300ms 0x00000000 100
		TextSetName ""
		TextMessage null {
			{color 5}I'm here because they ran out of jokes.{color 0}{wait}
		}
		TextWait
		TextClose 0
		FadeIn 300ms 0x00000000
		ScAchievement 25 162 0
	Sleep 30ms
	TextEnd null
	SystemFlagsUnset 0x08000000
	Return

fn[32]:
	SystemFlagsSet 0x08000000
	FadeOut 300ms 0x00000000 100
	if !flag[9859]:
		SoundPlay sound[43] 0 0 100
		ObjPlay object[2] 30
		ObjWait object[2]
		ObjFrame object[2] 30
		SoundPlay sound[17] 0 0 100
		TextSetPos -1 -1 -1 -1
		MiraAdd 300
		TextMessage null {
			{color 5}Received {color 2}300 mira{color 5}.{wait}
		}
		TextWait
		TextClose 0
		TextSetPos 72 320 56 3
		FlagSet flag[9859]
	else:
		TextMessage null {
			{color 5}A chest, a chest! My kingdom for a chest!{wait}
		}
		TextWait
		TextClose 0
	FadeIn 300ms 0x00000000
	TextEnd null
	SystemFlagsUnset 0x08000000
	ScAchievement 25 163 0
	Return
