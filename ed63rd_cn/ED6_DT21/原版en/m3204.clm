calmare tc scena
scena:
	name "Gaiden3" "M3204.x"
	town town[1]
	bgm bgm[232]
	item fn[0,65535]

entry:
	pos (0, 0, 0)
	chr 4
	angle 5deg
	cam_from (0, 9500, -10000)
	cam_at (0, 0, 2500)
	cam_zoom 2800
	cam_pers 262
	cam_deg 45deg
	cam_limit 0deg 360deg
	north 0deg
	flags 0x0001
	town town[1]
	init fn[0,0]
	reinit fn[0,1]

chip[0] "npl2/ch03670._ch" "npl2/ch03670p._cp"
chip[1] "npl2/ch04670._ch" "npl2/ch04670p._cp"
chip[2] "npl2/ch04679._ch" "npl2/ch04679p._cp"
chip[3] "apl2/ch20307._ch" "apl2/ch20307p._cp"
chip[4] "apl2/ch20715._ch" "apl2/ch20715p._cp"
chip[5] "npl/ch00330._ch" "npl/ch00330p._cp"
chip[6] "npl/ch00331._ch" "npl/ch00331p._cp"
chip[7] "npl/ch00430._ch" "npl/ch00430p._cp"
chip[8] "npl/ch00431._ch" "npl/ch00431p._cp"

npc char[0]:
	name "Brig. General Bright"
	pos (0, 0, 0)
	angle 180deg
	x 0
	cp chip[0]
	frame 0
	ch chip[0]
	flags 0x01C1
	init fn[65535,65535]
	talk fn[65535,65535]

monster char[1]:
	name ""
	pos (-63160, 0, 88730)
	angle 180deg
	chip chip[5]
	flags 0x0141
	unk2 -1
	battle battle[654]
	flag flag[0]
	unk3 0

monster char[2]:
	name ""
	pos (-20280, 0, 50020)
	angle 180deg
	chip chip[7]
	flags 0x0141
	unk2 -1
	battle battle[655]
	flag flag[0]
	unk3 0

monster char[3]:
	name ""
	pos (900, 0, 24970)
	angle 180deg
	chip chip[7]
	flags 0x0141
	unk2 -1
	battle battle[655]
	flag flag[0]
	unk3 0

monster char[4]:
	name ""
	pos (15950, 0, -68010)
	angle 180deg
	chip chip[7]
	flags 0x0141
	unk2 -1
	battle battle[655]
	flag flag[0]
	unk3 0

look_point[0]:
	pos (61880, 0, 26870)
	radius 1000mm
	bubble_pos (61880, 2000, 26870)
	flags 0x007C
	func fn[0,11]
	unk1 0

look_point[1]:
	pos (-15240, 1000, -34250)
	radius 1000mm
	bubble_pos (-15240, 1000, -34250)
	flags 0x007C
	func fn[0,2]
	unk1 0

look_point[2]:
	pos (53910, 1000, -68930)
	radius 1000mm
	bubble_pos (53910, 1000, -68930)
	flags 0x007C
	func fn[0,3]
	unk1 0

look_point[3]:
	pos (2800, 1000, 25020)
	radius 1000mm
	bubble_pos (2800, 1000, 25020)
	flags 0x007C
	func fn[0,4]
	unk1 0

fn[0]:
	if system[0] == 126:
		if flag[11039] && !flag[11040]:
			Event fn[0,5]
	if flag[9476]:
		FlagUnset flag[9476]
		SystemFlagsSet 0x10000000
		_B6 0
		system[1] = 173
		Event fn[0,10]
	Return

fn[1]:
	if !flag[9629]:
		EffStop eff_instance[128] 0
		EffStop eff_instance[129] 0
		EffStop eff_instance[131] 0
	if !flag[11160]:
		ObjFrame object[51] 0
	else:
		ObjFrame object[51] 60
	if !flag[11161]:
		ObjFrame object[52] 0
	else:
		ObjFrame object[52] 60
	if !flag[11162]:
		ObjFrame object[53] 0
	else:
		ObjFrame object[53] 60
	Return

fn[2]:
	SystemFlagsSet 0x08000000
	if !flag[11160]:
		SoundPlay sound[43] 0 0 100
		ObjPlay object[51] 60
		Sleep 500ms
		if ItemAdd item[517] 1:
			FadeOut 300ms 0x00000000 100
			SoundPlay sound[17] 0 0 100
			TextSetPos -1 -1 -1 -1
			TextSetName ""
			TextMessage null {
				{color 5}Found {item item[517]}{color 5}.{wait}
			}
			TextWait
			TextClose 0
			TextSetPos 72 320 56 3
			FadeIn 300ms 0x00000000
			FlagSet flag[11160]
		else:
			FadeOut 300ms 0x00000000 100
			TextSetName ""
			TextMessage null {
				{color 5}Found {item item[517]}{color 5} in chest.
				{color 5}Inventory full so gave up {item item[517]}{color 5}.{wait}
			}
			TextWait
			TextClose 0
			FadeIn 300ms 0x00000000
			SoundPlay sound[44] 0 0 100
			ObjFrame object[51] 60
			ObjPlay object[51] 0
	else:
		FadeOut 300ms 0x00000000 100
		TextSetName ""
		TextMessage null {
			{color 5}If only I'd come with an explosive trap...{color 0}{wait}
		}
		TextWait
		TextClose 0
		FadeIn 300ms 0x00000000
		ScAchievement 25 46 0
	Sleep 30ms
	TextEnd null
	SystemFlagsUnset 0x08000000
	Return

fn[3]:
	SystemFlagsSet 0x08000000
	if !flag[11161]:
		SoundPlay sound[43] 0 0 100
		ObjPlay object[52] 60
		Sleep 500ms
		if ItemAdd item[679] 1:
			FadeOut 300ms 0x00000000 100
			SoundPlay sound[17] 0 0 100
			TextSetPos -1 -1 -1 -1
			TextSetName ""
			TextMessage null {
				{color 5}Found {item item[679]}{color 5}.{wait}
			}
			TextWait
			TextClose 0
			TextSetPos 72 320 56 3
			FadeIn 300ms 0x00000000
			FlagSet flag[11161]
		else:
			FadeOut 300ms 0x00000000 100
			TextSetName ""
			TextMessage null {
				{color 5}Found {item item[679]}{color 5} in chest.
				{color 5}Inventory full so gave up {item item[679]}{color 5}.{wait}
			}
			TextWait
			TextClose 0
			FadeIn 300ms 0x00000000
			SoundPlay sound[44] 0 0 100
			ObjFrame object[52] 60
			ObjPlay object[52] 0
	else:
		FadeOut 300ms 0x00000000 100
		TextSetName ""
		TextMessage null {
			{color 5}I hope you at least made sure to not leave fingerprints on the crime scene.{color 0}{wait}
		}
		TextWait
		TextClose 0
		FadeIn 300ms 0x00000000
		ScAchievement 25 47 0
	Sleep 30ms
	TextEnd null
	SystemFlagsUnset 0x08000000
	Return

fn[4]:
	SystemFlagsSet 0x08000000
	if !flag[11162]:
		SoundPlay sound[43] 0 0 100
		ObjPlay object[53] 60
		Sleep 500ms
		if ItemAdd item[509] 1:
			FadeOut 300ms 0x00000000 100
			SoundPlay sound[17] 0 0 100
			TextSetPos -1 -1 -1 -1
			TextSetName ""
			TextMessage null {
				{color 5}Found {item item[509]}{color 5}.{wait}
			}
			TextWait
			TextClose 0
			TextSetPos 72 320 56 3
			FadeIn 300ms 0x00000000
			FlagSet flag[11162]
		else:
			FadeOut 300ms 0x00000000 100
			TextSetName ""
			TextMessage null {
				{color 5}Found {item item[509]}{color 5} in chest.
				{color 5}Inventory full so gave up {item item[509]}{color 5}.{wait}
			}
			TextWait
			TextClose 0
			FadeIn 300ms 0x00000000
			SoundPlay sound[44] 0 0 100
			ObjFrame object[53] 60
			ObjPlay object[53] 0
	else:
		FadeOut 300ms 0x00000000 100
		TextSetName ""
		TextMessage null {
			{color 5}You find a torn note that says: 'chest No. 53 wuz here'{color 0}{wait}
		}
		TextWait
		TextClose 0
		FadeIn 300ms 0x00000000
		ScAchievement 25 48 0
	Sleep 30ms
	TextEnd null
	SystemFlagsUnset 0x08000000
	Return

fn[5]:
	Call fn[0,6]
	Call fn[0,7]
	Return

fn[6]:
	EventBegin 0
	FadeOut 0ms 0x00000000 255
	BgmStop 2000ms
	Tc_E0 party[0] 73 2
	Tc_E0 party[0] 74 3
	Tc_E0 party[1] 75 2
	Tc_E0 party[1] 76 3
	Tc_E0 party[2] 77 2
	Tc_E0 party[2] 78 3
	Tc_E0 party[3] 79 2
	Tc_E0 party[3] 80 3
	CharFlagsUnset char[0] 0x0080
	CharSetPos char[0] (58980, 0, 73020) 180deg
	CharSetChipPattern char[0] 0
	char[0].45 = 1030
	char[0].46 = 1050
	char[0].47 = 1030
	char[0].7 = 1030
	char[0].41 = 1030
	CharSetPos name[8] (58240, 0, 60860) 0deg
	if CharInSlot 0 party[1] == 11:
		CharSetPos party[1] (59750, 0, 60760) 0deg
		CharSetPos party[2] (57750, 0, 58900) 0deg
		CharSetPos party[3] (59800, 0, 59090) 0deg
	elif CharInSlot 0 party[2] == 11:
		CharSetPos party[2] (59750, 0, 60760) 0deg
		CharSetPos party[1] (57750, 0, 58900) 0deg
		CharSetPos party[3] (59800, 0, 59090) 0deg
	elif CharInSlot 0 party[3] == 11:
		CharSetPos party[3] (59750, 0, 60760) 0deg
		CharSetPos party[1] (57750, 0, 58900) 0deg
		CharSetPos party[2] (59800, 0, 59090) 0deg
	CamLookPos (60100, 0, 61450) 0ms
	CamSetDistance 0 5590 -10000 0ms
	CamZoom 2380 0ms
	CamRotate 45000mdeg 0ms
	CamPers 302 0ms
	FadeIn 1000ms 0x00000000
	FadeWait
	Sleep 300ms
	TextTalkNamed char[0] "Man's Voice" {
		#4PYou made it, I see.{wait}
	}
	TextWait
	Emote name[8] 0mm 2000mm 2 7 80ms 1
	SoundPlay sound[39] 0 0 100
	Sleep 50ms
	if CharInSlot 0 party[1] == 7:
		Emote party[1] 0mm 2300mm 2 7 80ms 1
		SoundPlay sound[39] 0 0 100
	elif CharInSlot 0 party[1] == 6:
		Emote party[1] 0mm 1700mm 2 7 80ms 1
		SoundPlay sound[39] 0 0 100
	elif CharInSlot 0 party[1] == 15:
		Emote party[1] 0mm 1700mm 2 7 80ms 1
		SoundPlay sound[39] 0 0 100
	else:
		Emote party[1] 0mm 2000mm 2 7 80ms 1
		SoundPlay sound[39] 0 0 100
	Sleep 50ms
	if CharInSlot 0 party[2] == 7:
		Emote party[2] 0mm 2300mm 2 7 80ms 1
		SoundPlay sound[39] 0 0 100
	elif CharInSlot 0 party[2] == 6:
		Emote party[2] 0mm 1700mm 2 7 80ms 1
		SoundPlay sound[39] 0 0 100
	elif CharInSlot 0 party[2] == 15:
		Emote party[2] 0mm 1700mm 2 7 80ms 1
		SoundPlay sound[39] 0 0 100
	else:
		Emote party[2] 0mm 2000mm 2 7 80ms 1
		SoundPlay sound[39] 0 0 100
	Sleep 50ms
	if CharInSlot 0 party[3] == 7:
		Emote party[3] 0mm 2300mm 2 7 80ms 1
		SoundPlay sound[39] 0 0 100
	elif CharInSlot 0 party[3] == 6:
		Emote party[3] 0mm 1700mm 2 7 80ms 1
		SoundPlay sound[39] 0 0 100
	elif CharInSlot 0 party[3] == 15:
		Emote party[3] 0mm 1700mm 2 7 80ms 1
		SoundPlay sound[39] 0 0 100
	else:
		Emote party[3] 0mm 2000mm 2 7 80ms 1
		SoundPlay sound[39] 0 0 100
	Sleep 1000ms
	Fork party[0] fork[1]:
		CamLookPos (60220, 0, 74050) 2000ms
	Fork party[1] fork[1]:
		CamSetDistance 0 4660 -10000 2000ms
	Fork party[2] fork[1]:
		CamZoom 2550 2000ms
	Fork party[3] fork[1]:
		CamPers 285 2000ms
	ForkWait party[0] fork[1]
	TextTalk name[11] {
		#112F#1PBrigadier General...{wait}
	}
	TextWait
	if PartyPosition name[0] != -1:
		TextTalk name[0] {
			#1025F#1PDad...{wait}
		}
		TextWait
	if PartyPosition name[1] != -1:
		TextTalk name[1] {
			#1514F#1PDad...{wait}
		}
		TextWait
	if PartyPosition name[2] != -1:
		TextTalk name[2] {
			#1534F#1PCassius...{wait}
		}
		TextWait
	if PartyPosition name[5] != -1:
		TextTalk name[5] {
			#556F#1PHeh. Knew it'd be you.{wait}
		}
		TextWait
	if PartyPosition name[7] != -1:
		TextTalk name[7] {
			#573F#1PThought so...{wait}
		}
		TextWait
	if PartyPosition name[13] != -1:
		TextTalk name[13] {
			#179F#1PI feared as much...{wait}
		}
		TextWait
	if PartyPosition name[4] != -1:
		TextTalk name[4] {
			#1382F#1PCassius...{wait}
		}
		TextWait
	Sleep 300ms
	CrossFade 1000ms
	CamLookPos (60510, 0, 70550) 0ms
	CamSetDistance 0 4470 -10000 0ms
	CamZoom 2900 0ms
	CamRotate 45000mdeg 0ms
	CamPers 307 0ms
	Fork name[8] fork[0]:
		CharWalkToPos2 self (58210, 0, 66870) 5000mm/s 0
	Sleep 100ms
	if CharInSlot 0 party[1] == 11:
		Fork party[1] fork[0]:
			CharWalkToPos2 self (59700, 0, 67000) 5000mm/s 0
		Sleep 100ms
		Fork party[2] fork[0]:
			CharWalkToPos2 self (57660, 0, 65010) 5000mm/s 0
		Sleep 100ms
		Fork party[3] fork[0]:
			CharWalkToPos2 self (59620, 0, 65099) 5000mm/s 0
	elif CharInSlot 0 party[2] == 11:
		Fork party[2] fork[0]:
			CharWalkToPos2 self (59700, 0, 67000) 5000mm/s 0
		Sleep 100ms
		Fork party[1] fork[0]:
			CharWalkToPos2 self (57660, 0, 65010) 5000mm/s 0
		Sleep 100ms
		Fork party[3] fork[0]:
			CharWalkToPos2 self (59620, 0, 65099) 5000mm/s 0
	elif CharInSlot 0 party[3] == 11:
		Fork party[3] fork[0]:
			CharWalkToPos2 self (59700, 0, 67000) 5000mm/s 0
		Sleep 100ms
		Fork party[1] fork[0]:
			CharWalkToPos2 self (57660, 0, 65010) 5000mm/s 0
		Sleep 100ms
		Fork party[2] fork[0]:
			CharWalkToPos2 self (59620, 0, 65099) 5000mm/s 0
	ForkWait party[0] fork[0]
	ForkWait party[1] fork[0]
	ForkWait party[2] fork[0]
	ForkWait party[3] fork[0]
	FadeWait
	Sleep 500ms
	TextTalk char[0] {
		#1125F#5PHmm... I thought the ordeal revolving around
		the Aureole was over.{wait}
	} {
		But it looks like that was premature of me.{wait}
	} {
		#1122FI doubt even Ragnard saw this coming.{wait}
	} {
		What about you and the Gralsritter, Kevin?
		Did you?{wait}
	}
	TextWait
	TextTalk name[8] {
		#1065F#6PNope. It took us completely by surprise.{wait}
	} {
		#1840FAlthough, I can't say for sure whether the bigwigs
		at the top of the Congregation for the Sacraments
		had any idea this might happen.{wait}
	}
	TextWait
	TextTalk char[0] {
		#1128F#5PI do wonder...{wait}
	} {
		#1123FWell, I suppose there's no point in debating
		that now, anyway.{wait}
	}
	TextWait
	Sleep 150ms
	CrossFade 250ms
	SoundPlay sound[216] 0 0 100
	char[0].45 = 1050
	char[0].46 = 1070
	char[0].47 = 1050
	char[0].7 = 1050
	char[0].41 = 1050
	CharSetChipBase char[0] chip[3]
	CharSetChipPattern char[0] 2
	FadeWait
	Sleep 500ms
	CrossFade 500ms
	Fork party[0] fork[1]:
		CamLookPos (60510, 0, 71000) 500ms
	Fork party[0] fork[0]:
		CamZoom 2800 500ms
	CharSetChipBase char[0] chip[1]
	CharSetChipPattern char[0] 0
	SoundPlay sound[213] 0 0 100
	FadeWait
	Sleep 500ms
	TextTalk char[0] {
		#1125F#5PLet's get down to business. As you know,
		I'm the third of the guardians.{wait}
	} {
		#1122FIf you defeat me, you can move on. If you can't, 
		the road ahead will remain forever closed.{wait}
	} {
		Of course, you already know as much, don't you?{wait}
	}
	TextWait
	TextTalk name[11] {
		#110F#12PIndeed. We came fully resolved to deal with what
		we knew was waiting for us.{wait}
	}
	TextWait
	Sleep 150ms
	CrossFade 250ms
	SoundPlay sound[213] 0 0 100
	CharSetChipBase name[8] chip[9]
	CharSetChipPattern name[8] 0
	Sleep 50ms
	SoundPlay sound[213] 0 0 100
	CharSetChipBase party[1] chip[11]
	CharSetChipPattern party[1] 0
	Sleep 80ms
	SoundPlay sound[216] 0 0 100
	CharSetChipBase party[2] chip[13]
	CharSetChipPattern party[2] 0
	Sleep 50ms
	SoundPlay sound[213] 0 0 100
	CharSetChipBase party[3] chip[15]
	CharSetChipPattern party[3] 0
	FadeWait
	Sleep 600ms
	TextTalk name[11] {
		#115F#12PDefeating you will allow me to finally cut down my
		hesitations and move forward...{wait}
	} {
		#112F...and for that reason, I will hold back nothing!{wait}
	}
	TextWait
	TextTalk char[0] {
		#1120F#5PThat's what I wanted to hear.{wait}
	}
	TextWait
	if PartyPosition name[0] != -1 | PartyPosition name[1] != -1:
		Sleep 500ms
		TextTalk char[0] {
			#1123F#5PStill, I wasn't expecting the two of you to get
			dragged into this with you out of the country.{wait}
		} {
			#1120FI've been reading all the letters you send me...
			How are the two of you doing? Good?{wait}
		}
		TextWait
		if PartyPosition name[0] != -1 && PartyPosition name[1] != -1:
			TextTalk name[0] {
				#1016F#12PHeehee. We're both doing great.{wait}
			}
			TextWait
			TextTalk name[1] {
				#1501F#12PI'm glad to see you look well, too.{wait}
			}
			TextWait
		elif PartyPosition name[0] != -1:
			TextTalk name[0] {
				#1012F#12PHeehee. We're both doing great.{wait}
			} {
				#1008FI'm glad to see you look well, too.{wait}
			}
			TextWait
		elif PartyPosition name[1] != -1:
			TextTalk name[1] {
				#1513F#12PWe're both doing fine, thanks.{wait}
			} {
				#1501FI'm glad to see you look well, too.{wait}
			}
			TextWait
		TextTalk char[0] {
			#1125F#5PI'm not planning on letting age get the better
			of me yet!{wait}
		} {
			#1120FEither way, this will be a good chance to show
			me how much you've improved since you left on
			your trip. I'm looking forward to it.{wait}
		}
		TextWait
		if PartyPosition name[0] != -1:
			TextTalk name[0] {
				#1017F#12PRight!{wait}
			}
			TextWait
		if PartyPosition name[1] != -1:
			TextTalk name[1] {
				#1514F#12POf course!{wait}
			}
			TextWait
	if PartyPosition name[2] != -1:
		Sleep 500ms
		TextTalk char[0] {
			#1124F#5PDamn, though. I almost didn't recognize you, 
			there, Scherazard.{wait}
		} {
			#1120FWhen did you cut your hair?{wait}
		}
		TextWait
		TextTalk name[2] {
			#1521F#12PHaha. About a month ago, I guess?{wait}
		} {
			#1527FI'd forgotten you hadn't seen me like this yet.{wait}
		} {
			Hopefully, I'll be able to surprise you by just how
			much stronger I've been able to become, too!{wait}
		}
		TextWait
		TextTalk char[0] {
			#1120F#5PI hope so, too.{wait}
		}
		TextWait
	if PartyPosition name[5] != -1:
		Sleep 500ms
		TextTalk name[5] {
			#051F#12PAll right, old man. I might not've stood a chance
			against you before, but today's different.{wait}
		} {
			#053FBack when I first met you, I didn't really get the
			true meaning of what it was to swing this heavy
			blade of mine around...{wait}
		} {
			#054F...but not anymore! Now it's time for you to learn 
			just how much this thing hurts when it's swung by
			someone who knows how to use it!{wait}
		}
		TextWait
		TextTalk char[0] {
			#1125F#5PHeh. Good to hear.{wait}
		}
		TextWait
	if PartyPosition name[13] != -1:
		Sleep 500ms
		TextTalk name[13] {
			#179F#12PI'm honored to have the chance to test my
			skills against you again, Brigadier General.{wait}
		} {
			#170FI'd like to believe I will be able to fare better
			against you than I did during our last battle.{wait}
		}
		TextWait
		TextTalk char[0] {
			#1125F#5POh, I'm sure you will. I'm looking forward to seeing
			how much.{wait}
		} {
			#1120FI may have taught you the basics of swordsmanship,
			but it's clear you've long moved on beyond those
			and started to develop your own style.{wait}
		} {
			So I hope you will continue to follow the path you
			believe in. I'm sure it won't lead you astray.{wait}
		}
		TextWait
		TextTalk name[13] {
			#171F#12PThank you, sir. I'm honored you would speak so
			highly of me.{wait}
		}
		TextWait
	if PartyPosition name[7] != -1:
		Sleep 500ms
		TextTalk char[0] {
			#1120F#5PI always seem to end up causing you trouble,
			don't I, Zin? Sorry about that.{wait}
		} {
			#1123FAlthough you being here doesn't surprise me half
			as much as Kilika ending up being drawn into all
			of this! I thought she'd gone back home for good.{wait}
		}
		TextWait
		TextTalk name[7] {
			#573F#12PAhh, don't worry about it. It's clearly just fate
			messing with us.{wait}
		} {
			#070FStill, I intend to make the most of this chance
			to test my skills.{wait}
		} {
			I'm eager to know just how far my fists can take
			me against a true master like you.{wait}
		}
		TextWait
		TextTalk char[0] {
			#1125F#5PHah. By all means.{wait}
		} {
			#1120FI'm looking forward to seeing the heights of
			the Taito school myself.{wait}
		}
		TextWait
	if PartyPosition name[9] != -1:
		Sleep 500ms
		TextTalk name[9] {
			#819F#12PAhaha... I never thought I'd get the chance to
			fight you like this...{wait}
		} {
			#816FSo, like...you know. I'll do my best!{wait}
		}
		TextWait
		TextTalk char[0] {
			#1125F#5PHaha. I almost wish I would've had the chance
			to fight you back before I abandoned the path
			of the sword.{wait}
		} {
			#1120FBut knowing how you learned your skills from
			Master Ka-fai himself, I'm looking forward to
			seeing firsthand what you can do!{wait}
		}
		TextWait
		TextTalk name[9] {
			#1310F#12PSame to you!{wait}
		}
		TextWait
	if PartyPosition name[4] != -1:
		Sleep 500ms
		TextTalk char[0] {
			#1125F#5PIncidentally, if I may, Princess Klaudia...{wait}
		} {
			#1122FI don't suppose I would be able to ask you to
			step aside and have someone else fight in your
			place, would I?{wait}
		}
		TextWait
		TextTalk name[4] {
			#1383F#12PI'm afraid that won't be possible.{wait}
		} {
			#1160FI doubt I could defeat you in a battle of swords,
			but I do have confidence in my ability to use arts
			to fight and support my friends.{wait}
		} {
			So I have no intention of stepping aside and every
			intention of helping everyone here on to victory.{wait}
		}
		TextWait
		TextTalk char[0] {
			#1125F#5P...Very well, then.{wait}
		}
		TextWait
	if PartyPosition name[3] != -1:
		Sleep 500ms
		TextTalk char[0] {
			#1123F#5PAs for you, Prince Olivert...I'm surprised you
			came to fight me yourself.{wait}
		} {
			Surely you could've let the others take care
			of this?{wait}
		}
		TextWait
		TextTalk name[3] {
			#1541F#12PAnd pass up such a valuable opportunity?{wait}
		} {
			#1540FWhether I fight you or not, a battle with the
			Empire's greatest monster is in my future...
			I need all the experience I can get.{wait}
		}
		TextWait
		TextTalk char[0] {
			#1120F#5PThat's a fair point, I suppose. I guess I really
			can't afford to let my guard down against you.{wait}
		}
		TextWait
	if PartyPosition name[12] != -1:
		Sleep 500ms
		TextTalk name[12] {
			#278F#12PIt's an honor to be able to test my skills against
			you, Brigadier General Bright.{wait}
		} {
			#277FI look forward to seeing what you can do.{wait}
		}
		TextWait
		TextTalk char[0] {
			#1125F#5PI could say the same to you, young lion of the
			Vanders.{wait}
		} {
			#1120FYour family is held in high esteem both inside
			Erebonia and outside it, so I'm very curious to
			see what you can do.{wait}
		}
		TextWait
		TextTalk name[12] {
			#275F#12PI hope not to disappoint you.{wait}
		}
		TextWait
	if PartyPosition name[6] != -1:
		Sleep 500ms
		TextTalk char[0] {
			#1120F#5PBy the way, Tita...{wait}
		} {
			Is it true your parents have come home?{wait}
		}
		TextWait
		TextTalk name[6] {
			#067F#12POh! Yes, it is. Just recently.{wait}
		} {
			#560FDo you know my mom and dad?{wait}
		}
		TextWait
		TextTalk char[0] {
			#1125F#5PI do. Your father in particular--he helped me
			out an awful lot back during my early days of
			being a bracer.{wait}
		} {
			#1120FThey must be pretty worried about you...
			All the more reason you have to return safely.{wait}
		}
		TextWait
		TextTalk name[6] {
			#066F#12PYep!{wait}
		}
		TextWait
	if PartyPosition name[10] != -1:
		Sleep 500ms
		TextTalk char[0] {
			#1123F#5PNow, if there's one face I didn't expect to see
			here, it's yours.{wait}
		} {
			#1120FHow fares the delivery service? Business booming?{wait}
		}
		TextWait
		TextTalk name[10] {
			#210F#12PExploding, even. Thanks for asking.{wait}
		} {
			At the rate we're going, it shouldn't be too long
			before we're able to repay our debt to Her Majesty
			off in full.{wait}
		}
		TextWait
		TextTalk char[0] {
			#1120F#5PHeh. All the more reason why you need to get out
			of here safely and get back to work, then.{wait}
		}
		TextWait
		TextTalk name[10] {
			#413F#12PYou're telling me.{wait}
		}
		TextWait
	if PartyPosition name[15] != -1:
		Sleep 500ms
		TextTalk name[15] {
			#262F#12P...{wait}
		}
		TextWait
		TextTalk char[0] {
			#1124F#5PHmm? What's with the funny stare, young lady?{wait}
		}
		TextWait
		TextTalk name[15] {
			#268F#12PYou're a real monster, aren't you?{wait}
		} {
			#1302FI should be able to sense how strong you are...
			Why can't I?{wait}
		}
		TextWait
		TextTalk char[0] {
			#1120F#5PHaha... I manipulate both the void and the helix 
			as my form.{wait}
		} {
			You might be a genius, but even you won't be
			able to get a handle on my capabilities so easily.{wait}
		} {
			#1121FAnd while I've got the chance, you should drop
			by our house with Estelle and Joshua some time.{wait}
		} {
			We'd welcome you with open arms!{wait}
		}
		TextWait
		TextTalk name[15] {
			#1308F#12PA-And why would I ever want to do that?!{wait}
		}
		TextWait
	if PartyPosition name[14] != -1:
		Sleep 500ms
		TextTalk name[14] {
			#1447F#12PIt's good to have the chance to meet you, 
			Divine Blade.{wait}
		} {
			#1448FMy name is Ries Argent, a squire of the 
			Gralsritter.{wait}
		}
		TextWait
		TextTalk char[0] {
			#1124F#5PArgent?{wait}
		} {
			#1125F...You're Rufina's younger sister, aren't you?{wait}
		}
		TextWait
		TextTalk name[14] {
			#1444F#12PSir...?{wait}
		} {
			You've met Rufina?{wait}
		}
		TextWait
		TextTalk char[0] {
			#1120F#5PNot in person.{wait}
		} {
			But her name was known by a small portion of
			those in the Bracer Guild, myself included.{wait}
		} {
			#1125FShe was known as perhaps the most skilled 
			negotiator in the whole of the church and an
			expert at problem solving.{wait}
		} {
			In many ways, her way of doing things seemed
			more akin to a bracer's than a knight's.{wait}
		} {
			#1122FShe was known as the Thousand Arms, I believe?{wait}
		}
		TextWait
		TextTalk name[8] {
			#1065F#12PIndeed...and what you've heard about her was
			true, too.{wait}
		} {
			#1840FI heard at one point there were even talks about
			the guild trying to get her to leave the church
			and join them.{wait}
		}
		TextWait
		TextTalk char[0] {
			#1120F#5POh, I can confirm as much. As long as she
			wasn't a Dominion, we figured the chances of
			her joining weren't zero and it was worth a shot.{wait}
		} {
			#1125FUnfortunately, she lost her life before those
			negotiations could seriously get going.{wait}
		} {
			I'm sorry for your loss. She was quite the woman,
			by the sounds of it.{wait}
		}
		TextWait
		TextTalk name[14] {
			#1806F#12P...Thank you for your kind words.{wait}
		}
		TextWait
	Fork party[0] fork[0]:
		CamZoom 2700 5000ms
	BgmPlay bgm[119] 0
	Sleep 1500ms
	TextTalk char[0] {
		#1125F#5PWell, I think that's enough talking. It's time we
		got started.{wait}
	} {
		#1122FAs I'm sure you understand already, I couldn't 
		hold back even if I wanted to.{wait}
	} {
		So, Richard, I have only one thing to say to you.{wait}
	}
	TextWait
	TextTalk name[11] {
		#112F#12P...Yes, sir.{wait}
	}
	TextWait
	Sleep 300ms
	ForkQuit party[0] fork[0]
	CrossFade 500ms
	CamLookPos (59010, 0, 75600) 0ms
	CamSetDistance 0 2890 -10000 0ms
	CamZoom 2540 0ms
	CamRotate 0mdeg 0ms
	CamPers 352 0ms
	SoundPlay sound[133] 1 0 100
	ForkLoop name[8] fork[0]:
		Shake 30 30 3000 300ms
	Fork party[0] fork[1]:
		CamLookPos (59010, 0, 74600) 4000ms
	Fork party[1] fork[1]:
		CamSetDistance 0 2600 -10000 4000ms
	Fork party[2] fork[1]:
		CamZoom 3000 4000ms
	Fork party[3] fork[1]:
		CamPers 345 4000ms
	SoundPlay sound[213] 0 0 100
	CharSetChipBase char[0] chip[2]
	CharSetChipPattern char[0] 52
	CharFlagsSet char[0] 0x0800
	CharFlagsSet char[0] 0x0002
	CharSetPos char[0] (58980, 0, 73020) 180deg
	char[0].45 = 900
	char[0].46 = 900
	char[0].47 = 900
	char[0].7 = 900
	char[0].41 = 900
	CharSetPos name[8] (58270, 0, 66820) 0deg
	if CharInSlot 0 party[1] == 11:
		CharSetPos party[1] (59820, 0, 66810) 0deg
		CharSetPos party[2] (57690, 0, 64819) 0deg
		CharSetPos party[3] (60270, 0, 64819) 0deg
	elif CharInSlot 0 party[2] == 11:
		CharSetPos party[2] (59820, 0, 66810) 0deg
		CharSetPos party[1] (57690, 0, 64819) 0deg
		CharSetPos party[3] (60270, 0, 64819) 0deg
	elif CharInSlot 0 party[3] == 11:
		CharSetPos party[3] (59820, 0, 66810) 0deg
		CharSetPos party[1] (57690, 0, 64819) 0deg
		CharSetPos party[2] (60270, 0, 64819) 0deg
	FadeWait
	Sleep 500ms
	SoundPlay sound[126] 1 0 100
	ForkLoop char[0] fork[2]:
		CharAnimation self 56 59 1500ms
	ForkWait party[0] fork[1]
	system[28] = 1
	CrossFade 500ms
	SoundStop sound[133]
	Fork party[0] fork[1]:
		CamLookPos (59010, 0, 74460) 100ms
	Fork party[1] fork[1]:
		CamSetDistance 0 2600 -10000 100ms
	Fork party[2] fork[1]:
		CamZoom 2850 100ms
	Fork party[3] fork[1]:
		CamPers 341 100ms
	SoundStop sound[126]
	ForkQuit char[0] fork[2]
	Fork char[0] fork[3]:
		CharAnimation self 64 70 1500ms
	SoundPlay sound[500] 0 0 100
	Sleep 100ms
	SoundPlay sound[243] 0 0 100
	FadeWait
	ForkWait char[0] fork[3]
	ForkQuit name[8] fork[0]
	Sleep 1000ms
	TextTalk char[0] {
		#1125F#5PDefeat me.{wait}
		#1122FThat is all.{wait}
	}
	TextWait
	Sleep 500ms
	TextTalk name[11] {
		#114F#6P#3SI shall!{wait}
	}
	Shake 0 200 3000 100ms
	TextWait
	Sleep 100ms
	ED6Battle battle[682] null 0 0 null
	Return

fn[7]:
	EventBegin 0
	FadeOut 0ms 0x00000000 255
	BgmStop 0ms
	Sleep 1000ms
	BgmPlay bgm[173] 0
	SystemFlagsSet 0x02000000
	system[28] = 0
	Tc_E0 party[0] 73 2
	Tc_E0 party[0] 74 5
	Tc_E0 party[1] 75 2
	Tc_E0 party[1] 76 5
	Tc_E0 party[2] 77 2
	Tc_E0 party[2] 78 5
	Tc_E0 party[3] 79 2
	Tc_E0 party[3] 80 5
	CharFlagsUnset char[0] 0x0080
	CharSetPos char[0] (58980, 0, 73020) 180deg
	CharSetChipBase char[0] chip[4]
	CharSetChipPattern char[0] 0
	CharFlagsUnset char[0] 0x0800
	CharFlagsUnset char[0] 0x0002
	char[0].45 = 1030
	char[0].46 = 1050
	char[0].47 = 1030
	char[0].7 = 1030
	char[0].41 = 1030
	ForkFunc char[0] fork[3] fn[0,8]
	EffLoad eff[0] "map\\mp259_02.eff"
	EffLoad eff[1] "map\\mp256_00.eff"
	EffPlay eff[0] eff_instance[0] char[0] 0 (100, 800, 100) 0 0 0 2200 3500 1000 null (0, 0, 0) 0ms
	SoundPlay sound[326] 1 0 60
	CharSetPos name[8] (57980, 0, 68490) 0deg
	if CharInSlot 0 party[1] == 11:
		CharSetPos party[1] (59450, 0, 68450) 0deg
		CharSetPos party[2] (57410, 0, 66470) 0deg
		CharSetPos party[3] (59260, 0, 66350) 0deg
	elif CharInSlot 0 party[2] == 11:
		CharSetPos party[2] (59450, 0, 68450) 0deg
		CharSetPos party[1] (57410, 0, 66470) 0deg
		CharSetPos party[3] (59260, 0, 66350) 0deg
	elif CharInSlot 0 party[3] == 11:
		CharSetPos party[3] (59450, 0, 68450) 0deg
		CharSetPos party[1] (57410, 0, 66470) 0deg
		CharSetPos party[2] (59260, 0, 66350) 0deg
	CharSetChipBase party[0] chip[10]
	CharSetChipPattern party[0] 3
	CharSetChipBase party[1] chip[12]
	CharSetChipPattern party[1] 3
	CharSetChipBase party[2] chip[14]
	CharSetChipPattern party[2] 3
	CharSetChipBase party[3] chip[16]
	CharSetChipPattern party[3] 3
	CharFlagsSet party[0] 0x0800
	CharFlagsSet party[1] 0x0800
	CharFlagsSet party[2] 0x0800
	CharFlagsSet party[3] 0x0800
	ForkFunc party[0] fork[0] fn[0,9]
	ForkFunc party[1] fork[0] fn[0,9]
	ForkFunc party[2] fork[0] fn[0,9]
	ForkFunc party[3] fork[0] fn[0,9]
	CamLookPos (60160, 0, 71550) 0ms
	CamSetDistance 0 4090 -10000 0ms
	CamZoom 2930 0ms
	CamRotate 45000mdeg 0ms
	CamPers 306 0ms
	Fork party[0] fork[2]:
		CamZoom 2730 2000ms
	FadeIn 2000ms 0x00000000
	FadeWait
	Sleep 500ms
	TextTalk name[8] {
		#1070F#6PNgh... I think all those rumors about his
		strength were underselling him...{wait}
	}
	TextWait
	TextTalk name[11] {
		#117F#12P*pant*...*pant*...
		We did it...{wait}
	}
	TextWait
	TextTalk char[0] {
		#1125F#5PCongratulations. That was a well-earned 
		victory.{wait}
	} {
		#1122FSo, Richard? Have you finally been able
		to clear aside your hesitations?{wait}
	}
	TextWait
	Sleep 300ms
	ForkQuit field_party[0] fork[0]
	Sleep 50ms
	ForkQuit field_party[1] fork[0]
	Sleep 50ms
	ForkQuit field_party[2] fork[0]
	Sleep 50ms
	ForkQuit field_party[3] fork[0]
	Sleep 500ms
	TextTalk name[11] {
		#115F#12P...I believe so.{wait}
	} {
		No matter where life may end up taking me,
		the swordsmanship I learned from you will
		always have a place and a use.{wait}
	} {
		#111FAs such, I intend to keep following the path
		I have chosen for myself, pride in my heart.{wait}
	}
	TextWait
	TextTalk char[0] {
		#1120F#5PWell said.{wait}
	} {
		#1123F...Although, I can't pretend not to be a tad 
		disappointed. If you'd returned to the army,
		I could've piled all my work onto you and Cid.{wait}
	} {
		Looks like I'm not going to be able to retire
		any time soon.{wait}
	}
	TextWait
	TextTalk name[11] {
		#119F#12PHaha... I'm afraid not.{wait}
	} {
		#112FBut know this:{wait}
	} {
		As my final duty as a member of the military,
		I will resolve this crisis and return everyone to
		the real world.{wait}
	} {
		Have no doubt of that.{wait}
	}
	TextWait
	TextTalk char[0] {
		#1120F#5PI'll be counting on you.{wait}
	}
	TextWait
	if PartyPosition name[0] != -1 && PartyPosition name[1] != -1:
		Sleep 500ms
		TextTalk name[0] {
			#1025F#12PDon't worry about us, either, Dad.{wait}
		} {
			Me and Joshua will get out of here safely.
			We promise.{wait}
		}
		TextWait
		TextTalk name[1] {
			#1514F#12PYeah. We'll be just fine.{wait}
		}
		TextWait
		TextTalk char[0] {
			#1125F#5POh, I'm sure you will.{wait}
		} {
			#1120FWhen you get out of here, you'll have to try 
			and find the time to pop back to Liberl from
			time to time, too. I'll be happy to see you.{wait}
		} {
			#1121FMake sure to bring Renne with you, all right?{wait}
		}
		TextWait
		TextTalk name[0] {
			#1004F#12POh...{wait}
		} {
			#1017F...No problem!{wait}
		}
		TextWait
		TextTalk name[1] {
			#1501F#12PHaha. Look forward to it.{wait}
		}
		TextWait
	elif PartyPosition name[0] != -1:
		TextTalk name[0] {
			#1025F#12PDon't worry about us, either, Dad.{wait}
		} {
			Me and Joshua will get out of here,
			so don't you worry!{wait}
		}
		TextWait
		TextTalk char[0] {
			#1125F#5POh, I'm sure you'll be just fine.{wait}
		} {
			#1120FWhen you get out of here, you'll have to try 
			and find the time to pop back to Liberl from
			time to time, too. I'll be happy to see you.{wait}
		}
		TextWait
		TextTalk name[0] {
			#1017F#12PHeehee. We will!{wait}
		}
		TextWait
	elif PartyPosition name[1] != -1:
		TextTalk name[1] {
			#1513F#12PDon't worry about us, either, Dad.
			We'll be fine.{wait}
		} {
			#1514FI'll be sure Estelle gets out of here
			safely. I promise.{wait}
		}
		TextWait
		TextTalk char[0] {
			#1125F#5POh, I'm sure the two of you will be just fine.{wait}
		} {
			#1120FWhen you get out of here, you'll have to try 
			and find the time to pop back to Liberl from
			time to time, too. I'll be happy to see you.{wait}
		}
		TextWait
		TextTalk name[1] {
			#1501F#12PWe will!{wait}
		}
		TextWait
	Sleep 500ms
	TextTalk char[0] {
		#1125F#5PRegardless, my time here is short.{wait}
	} {
		#1122FSo I'll make this brief, Kevin.{wait}
	} {
		By now, you must have a fairly good idea
		who the Lord of Phantasma is, correct?{wait}
	}
	TextWait
	TextTalk name[8] {
		#1840F#6PYeah... I just need one last push to be completely
		certain.{wait}
	} {
		#1075FI'll probably get that push in the next area, too.{wait}
	}
	TextWait
	TextTalk char[0] {
		#1128F#5P#40WI see...{wait}
	} {
		#1125F#40WIt's not really my place to say anything more
		to you...{wait}
	} {
		#40W...so I would ask only that you not forget this.{wait}
	} {
		#1120F#40WNo man is an island; no matter how much they
		may wish to isolate themselves from others,
		no one can live their life truly alone.{wait}
	}
	TextWait
	TextTalk name[8] {
		#1079F#6P#3S...!!{wait}
	}
	TextWait
	Sleep 300ms
	SoundPlay sound[312] 0 0 100
	EffPlay eff[1] eff_instance[1] char[0] 0 (100, -600, 0) 0 0 0 2100 2100 2100 null (0, 0, 0) 0ms
	Sleep 1000ms
	SoundStop sound[326]
	SoundPlay sound[153] 0 0 100
	SoundPlay sound[184] 0 0 100
	ForkQuit char[0] fork[3]
	Fork char[0] fork[1]:
		CharColor self 0x00FFFFFF 1000ms
	Sleep 800ms
	CrossFade 1000ms
	EffStop eff_instance[0] 0
	EffStop eff_instance[1] 0
	FadeWait
	CharFlagsSet char[0] 0x0080
	Sleep 1000ms
	if PartyPosition name[0] != -1:
		TextTalk name[0] {
			#1026F#12POh...{wait}
		}
		TextWait
	elif PartyPosition name[1] != -1:
		TextTalk name[1] {
			#1504F#12POh...{wait}
		}
		TextWait
	elif PartyPosition name[2] != -1:
		TextTalk name[2] {
			#1523F#12POh...{wait}
		}
		TextWait
	elif PartyPosition name[5] != -1:
		TextTalk name[5] {
			#055F#12P...{wait}
		}
		TextWait
	elif PartyPosition name[7] != -1:
		TextTalk name[7] {
			#072F#12P...{wait}
		}
		TextWait
	elif PartyPosition name[13] != -1:
		TextTalk name[13] {
			#173F#12POh...{wait}
		}
		TextWait
	elif PartyPosition name[9] != -1:
		TextTalk name[9] {
			#1317F#12POh...{wait}
		}
		TextWait
	elif PartyPosition name[12] != -1:
		TextTalk name[12] {
			#273F#12P...{wait}
		}
		TextWait
	elif PartyPosition name[15] != -1:
		TextTalk name[15] {
			#264F#12POh...{wait}
		}
		TextWait
	elif PartyPosition name[4] != -1:
		TextTalk name[4] {
			#1163F#12POh...{wait}
		}
		TextWait
	elif PartyPosition name[3] != -1:
		TextTalk name[3] {
			#1543F#12P...{wait}
		}
		TextWait
	elif PartyPosition name[14] != -1:
		TextTalk name[14] {
			#1444F#12POh...{wait}
		}
		TextWait
	elif PartyPosition name[10] != -1:
		TextTalk name[10] {
			#213F#12POh...{wait}
		}
		TextWait
	if PartyPosition name[6] != -1:
		TextTalk name[6] {
			#063F#12PCassius...{wait}
		}
		TextWait
	elif PartyPosition name[10] != -1:
		TextTalk name[10] {
			#215F#12P...{wait}
		}
		TextWait
	elif PartyPosition name[14] != -1:
		TextTalk name[14] {
			#1445F#12P...{wait}
		}
		TextWait
	elif PartyPosition name[3] != -1:
		TextTalk name[3] {
			#1542F#12P...{wait}
		}
		TextWait
	elif PartyPosition name[4] != -1:
		TextTalk name[4] {
			#1163F#12PCassius...{wait}
		}
		TextWait
	elif PartyPosition name[15] != -1:
		TextTalk name[15] {
			#1307F#12P...{wait}
		}
		TextWait
	elif PartyPosition name[12] != -1:
		TextTalk name[12] {
			#276F#12P...{wait}
		}
		TextWait
	elif PartyPosition name[9] != -1:
		TextTalk name[9] {
			#813F#12PCassius...{wait}
		}
		TextWait
	elif PartyPosition name[13] != -1:
		TextTalk name[13] {
			#175F#12PBrigadier General...{wait}
		}
		TextWait
	elif PartyPosition name[7] != -1:
		TextTalk name[7] {
			#572F#12P...{wait}
		}
		TextWait
	elif PartyPosition name[5] != -1:
		TextTalk name[5] {
			#053F#12PHe's gone...{wait}
		}
		TextWait
	elif PartyPosition name[2] != -1:
		TextTalk name[2] {
			#1532F#12PHe's gone...{wait}
		}
		TextWait
	elif PartyPosition name[1] != -1:
		TextTalk name[1] {
			#1503F#12PDad...{wait}
		}
		TextWait
	Fork party[0] fork[2]:
		CamZoom 3000 3000ms
	FadeOut 2000ms 0x00000000 255
	FadeWait
	FlagSet flag[9476]
	NewScene "m4110._sn" 100 0 0
	Hcf
	Return

fn[8]:
	var[1] = random % 14
	if var[1] == 0:
		Sleep 100ms
	elif var[1] == 1:
		Sleep 200ms
	elif var[1] == 2:
		Sleep 300ms
	elif var[1] == 3:
		Sleep 400ms
	elif var[1] == 4:
		Sleep 500ms
	elif var[1] == 5:
		Sleep 600ms
	elif var[1] == 6:
		Sleep 700ms
	while 1:
		CharColor self 0x78FFFFFF 1500ms
		CharColor self 0xFFFFFFFF 1500ms
	Return

fn[9]:
	while 1:
		var[1] = random % 14
		if var[1] == 0:
			Sleep 100ms
		elif var[1] == 1:
			Sleep 200ms
		elif var[1] == 2:
			Sleep 300ms
		elif var[1] == 3:
			Sleep 400ms
		elif var[1] == 4:
			Sleep 500ms
		elif var[1] == 5:
			Sleep 600ms
		elif var[1] == 6:
			Sleep 700ms
		CharShake self 15 0 300 3000ms
		Sleep 1000ms
		CharShake self 15 0 300 3000ms
		Sleep 1500ms
	Return

fn[10]:
	EventBegin 0
	FadeOut 0ms 0x00000000 255
	CharSetPos name[8] (57980, 0, 68490) 0deg
	if CharInSlot 0 party[1] == 11:
		CharSetPos party[1] (59650, 0, 68450) 0deg
		CharSetPos party[2] (57410, 0, 66470) 0deg
		CharSetPos party[3] (59260, 0, 66650) 0deg
	elif CharInSlot 0 party[2] == 11:
		CharSetPos party[2] (59650, 0, 68450) 0deg
		CharSetPos party[1] (57410, 0, 66470) 0deg
		CharSetPos party[3] (59260, 0, 66650) 0deg
	elif CharInSlot 0 party[3] == 11:
		CharSetPos party[3] (59650, 0, 68450) 0deg
		CharSetPos party[1] (57410, 0, 66470) 0deg
		CharSetPos party[2] (59260, 0, 66650) 0deg
	CharSetChipBase field_party[0] chip[65535]
	CharSetChipPattern field_party[0] 0
	CharSetChipBase field_party[1] chip[65535]
	CharSetChipPattern field_party[1] 0
	CharSetChipBase field_party[2] chip[65535]
	CharSetChipPattern field_party[2] 0
	CharSetChipBase field_party[3] chip[65535]
	CharSetChipPattern field_party[3] 0
	CamLookPos (60000, 0, 71900) 0ms
	CamSetDistance 0 4740 -10000 0ms
	CamZoom 2480 0ms
	CamRotate 45000mdeg 0ms
	CamPers 305 0ms
	Sleep 500ms
	FadeIn 1500ms 0x00000000
	FadeWait
	ForkWait party[0] fork[0]
	Sleep 500ms
	TextTalk name[11] {
		#116F#5P...{wait}
	}
	TextWait
	Fork party[0] fork[0]:
		CamLookPos (60000, 0, 68900) 1500ms
	if CharInSlot 0 party[1] == 11:
		Fork party[1] fork[1]:
			CharTurnTo self 225deg 300deg/s
		Sleep 300ms
		Fork name[8] fork[1]:
			CharTurnTo self 90deg 400deg/s
		Sleep 100ms
		CharTurnTo party[2] 45deg 400deg/s
	elif CharInSlot 0 party[2] == 11:
		Fork party[2] fork[1]:
			CharTurnTo self 225deg 300deg/s
		Sleep 300ms
		Fork name[8] fork[1]:
			CharTurnTo self 90deg 400deg/s
		Sleep 100ms
		CharTurnTo party[1] 45deg 400deg/s
	elif CharInSlot 0 party[3] == 11:
		Fork party[3] fork[1]:
			CharTurnTo self 225deg 300deg/s
		Sleep 300ms
		Fork name[8] fork[1]:
			CharTurnTo self 90deg 400deg/s
		Sleep 100ms
		CharTurnTo party[1] 45deg 400deg/s
	ForkWait party[0] fork[0]
	Sleep 300ms
	TextTalk name[11] {
		#111F#5PWell, we have but one area remaining now.{wait}
	} {
		#119FAfter what we have accomplished here, I'm not
		sure we have anything to fear.{wait}
	}
	TextWait
	if PartyPosition name[0] != -1:
		TextTalk name[0] {
			#1016F#6PAhaha... Yeah.{wait}
		}
		TextWait
	elif PartyPosition name[1] != -1:
		TextTalk name[1] {
			#1513F#6PYeah...{wait}
		}
		TextWait
	elif PartyPosition name[2] != -1:
		TextTalk name[2] {
			#1521F#6PHaha. Indeed.{wait}
		}
		TextWait
	elif PartyPosition name[5] != -1:
		TextTalk name[5] {
			#556F#6PHeh. Damn right.{wait}
		}
		TextWait
	elif PartyPosition name[7] != -1:
		TextTalk name[7] {
			#573F#6PHaha. Indeed.{wait}
		}
		TextWait
	elif PartyPosition name[4] != -1:
		TextTalk name[4] {
			#1165F#6PHeehee. Indeed.{wait}
		}
		TextWait
	elif PartyPosition name[13] != -1:
		TextTalk name[13] {
			#179F#6PHeh. Indeed.{wait}
		}
		TextWait
	elif PartyPosition name[9] != -1:
		TextTalk name[9] {
			#1314F#6PAhaha... Yeah.{wait}
		}
		TextWait
	elif PartyPosition name[3] != -1:
		TextTalk name[3] {
			#1545F#6PHeh. Indeed.{wait}
		}
		TextWait
	elif PartyPosition name[12] != -1:
		TextTalk name[12] {
			#278F#6PHeh. Indeed.{wait}
		}
		TextWait
	elif PartyPosition name[6] != -1:
		TextTalk name[6] {
			#067F#6PHeehee. Yup!{wait}
		}
		TextWait
	elif PartyPosition name[14] != -1:
		TextTalk name[14] {
			#1447F#6PHeehee. Indeed.{wait}
		}
		TextWait
	elif PartyPosition name[15] != -1:
		TextTalk name[15] {
			#263F#6PThat's very true.{wait}
		}
		TextWait
	TextTalk name[8] {
		#1075F#6PLet's head back to the scenic route and
		check the final monument.{wait}
	} {
		#1840FThat way we can find out what the condition
		for opening it is.{wait}
	}
	TextWait
	BgmStop 2000ms
	FadeOut 1500ms 0x00000000 255
	FadeWait
	FlagSet flag[11040]
	if PartyPosition name[5] != -1:
		FlagSet flag[9785]
	if PartyPosition name[12] != -1:
		FlagSet flag[9786]
	if PartyPosition name[1] != -1:
		FlagSet flag[9787]
	if PartyPosition name[2] != -1:
		FlagSet flag[9788]
	if PartyPosition name[0] != -1:
		FlagSet flag[9789]
	QuestFlagsSet quest[58] 0x04
	QuestFlagsSet quest[58] 0x08
	QuestTaskSet quest[58] 0x0001
	CamLookPos (58950, 0, 68910) 0ms
	CamSetDistance 0 6000 -10000 0ms
	CamZoom 3000 0ms
	CamRotate 45000mdeg 0ms
	CamPers 280 0ms
	CharSetPos field_party[0] (58950, 0, 68910) 180deg
	CharSetPos field_party[1] (58950, 0, 68910) 180deg
	CharSetPos field_party[2] (58950, 0, 68910) 180deg
	CharSetPos field_party[3] (58950, 0, 68910) 180deg
	BgmWait
	Sleep 500ms
	FadeIn 1000ms 0x00000000
	BgmPlay bgm[232] 0
	system[1] = 232
	SystemFlagsUnset 0x02000000
	EventEnd 0
	Return

fn[11]:
	if !flag[9629]:
		EventBegin 1
		system[40] = 65535
		Sleep 500ms
		SoundPlay sound[353] 0 0 100
		CrossFade 1000ms
		EffPlay eff[128] eff_instance[255] name[65278] 0 (0, 0, 0) 0 0 0 1000 1000 1000 null (0, 0, 0) 0ms
		EffPlay eff[129] eff_instance[255] name[65278] 0 (0, 0, 0) 0 0 0 1000 1000 1000 null (0, 0, 0) 0ms
		EffPlay eff[131] eff_instance[255] name[65278] 0 (0, 0, 0) 0 0 0 1000 1000 1000 null (0, 0, 0) 0ms
		FadeWait
		TcMonumentOpen 27 0 0
		Sleep 500ms
	else:
		TextStart null
	FadeOut 300ms 0x00000000 100
	TextSetPos -1 60 -1 -1
	TextMessage null {
		{color 5}Select an Option{0x18}{wait}
	}
	system[40] = 24
	var[0] = 0
	while var[0] != 255:
		Menu menu[1] -1 150 1
			"Restore HP/EP" // 0
			"Shop" // 1
			"Synthesize Quartz" // 2
			"End" // 3
		MenuWait var[0]
		MenuClose menu[1]
		TextClose 0
		switch var[0]:
			case 0:
				FadeIn 300ms 0x00000000
				system[40] = 65535
				Sleep 300ms
				BgmStop 1000ms
				SoundPlay sound[12] 0 0 100
				FadeOut 1000ms 0x00000000 255
				FadeWait
				SoundPlay sound[13] 0 0 100
				Minigame 21 0 0 0 0 0 0 0 0
				_30 1
				Sleep 3500ms
				BgmPlay bgm[232] 0
				system[40] = 24
				FadeIn 1000ms 0x00000000
				var[0] = 255
				break
			case 1:
				ShopOpen shop[38]
				FadeOut 300ms 0x00000000 100
				TextSetPos -1 60 -1 -1
				TextMessage null {
					{color 5}Select an Option{0x18}{wait}
				}
				break
			case 2:
				ShopOpen shop[9]
				FadeOut 300ms 0x00000000 100
				TextSetPos -1 60 -1 -1
				TextMessage null {
					{color 5}Select an Option{0x18}{wait}
				}
				break
			default:
				var[0] = 255
				break
	MenuClose menu[1]
	TextClose 0
	FadeIn 300ms 0x00000000
	Sleep 300ms
	var[0] = 0
	if !flag[9629]:
		FlagSet flag[9629]
		EventEnd 1
	else:
		TextEnd null
	Return
